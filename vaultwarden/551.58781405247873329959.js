"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[551],{16894:(n,t,i)=>{i.r(t),i.d(t,{OrganizationReportingModule:()=>Xt});var e=i(98694),o=i(84949),a=i(75557),r=i(58691),s=i(77494),c=i(25406),u=i(53550),p=i(24852),l=i(92236),d=i(98438),g=i(19419),h=i(53707),U=i(15252),Z=i(2051),_=i(12963),f=i(66385),A=i(81974),x=i(82081),m=i(82933),v=i(36409),b=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function w(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noExposedPasswords"),"\n  "))}function q(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",19),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function I(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function T(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",20),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",21),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function y(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",22),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",21),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function L(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",23),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n            "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function O(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",11),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",12),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",13),p._uU(8,"\n            "),p.YNc(9,q,6,4,"ng-container",14),p._uU(10,"\n            "),p.YNc(11,I,4,1,"ng-template",null,15,p.W1O),p._uU(13,"\n            "),p.YNc(14,T,9,6,"ng-container",6),p._uU(15,"\n            "),p.YNc(16,y,9,6,"ng-container",6),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td"),p._uU(25,"\n            "),p.YNc(26,L,4,8,"app-org-badge",16),p._uU(27,"\n          "),p.qZA(),p._uU(28,"\n          "),p.TgZ(29,"td",17),p._uU(30,"\n            "),p.TgZ(31,"span",18),p._uU(32),p.ALo(33,"i18n"),p.ALo(34,"number"),p.qZA(),p._uU(35,"\n          "),p.qZA(),p._uU(36,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!e.organization),p.xp6(6),p.hij("\n              ",p.xi3(33,8,"exposedXTimes",p.lcZ(34,11,e.exposedPasswordMap.get(n.id))),"\n            ")}}function z(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",9),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,O,37,13,"tr",10),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,4,"exposedPasswordsFound")),p.Q6J("useAlertRole",!0),p.xp6(2),p.hij("\n      ",p.xi3(5,6,"exposedPasswordsFoundDesc",p.lcZ(6,9,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function N(n,t){if(1&n&&(p.TgZ(0,"div",4),p._uU(1,"\n  "),p.YNc(2,w,4,6,"app-callout",5),p._uU(3,"\n  "),p.YNc(4,z,16,11,"ng-container",6),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function Y(n,t){}class C extends u.W{constructor(n,t,i,e,o,a){super(n,t,e,i,a),this.route=o}ngOnInit(){return b(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>b(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.manageableCiphers=yield this.cipherService.getAll()}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}C.ɵfac=function(n){return new(n||C)(p.Y36(l.u),p.Y36(d.C),p.Y36(s.Z),p.Y36(r.Mn),p.Y36(a.gz),p.Y36(c.C))},C.ɵcmp=p.Xpm({type:C,selectors:[["app-org-exposed-passwords-report"]],features:[p.qOj],decls:20,vars:11,consts:[[1,"page-header"],["type","submit","buttonType","primary","bitButton","",3,"loading","click"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],[4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title","useAlertRole"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","variant","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],[1,"sr-only"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n"),p.qZA(),p._uU(6,"\n"),p.TgZ(7,"p"),p._uU(8),p.ALo(9,"i18n"),p.qZA(),p._uU(10,"\n"),p.TgZ(11,"button",1),p.NdJ("click",(function(){return t.load()})),p._uU(12),p.ALo(13,"i18n"),p.qZA(),p._uU(14,"\n"),p.YNc(15,N,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,Y,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.Oqu(p.lcZ(4,5,"exposedPasswordsReport")),p.xp6(5),p.Oqu(p.lcZ(9,7,"exposedPasswordsReportDesc")),p.xp6(3),p.Q6J("loading",t.loading),p.xp6(1),p.hij("\n  ",p.lcZ(13,9,"checkExposedPasswords"),"\n"),p.xp6(3),p.Q6J("ngIf",t.hasLoaded))},dependencies:[g.sg,g.O5,h.O,U.o,Z.O,_._,f.l,A.r,x.C,g.Ov,g.JJ,m.C,v.l],encapsulation:2});var J=i(92006),Q=i(66459),S=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function k(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function P(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function F(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noInactive2fa"),"\n  "))}function M(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",19),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function $(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",20),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function E(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",21),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n            "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function j(n,t){if(1&n&&(p.TgZ(0,"a",22),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.s9C("href",t.cipherDocs.get(n.id),p.LSH),p.xp6(1),p.hij("\n              ",p.lcZ(2,2,"instructions"),"")}}function B(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.TgZ(9,"a",15),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n            "),p.YNc(13,M,9,6,"ng-container",1),p._uU(14,"\n            "),p.YNc(15,$,9,6,"ng-container",1),p._uU(16,"\n            "),p._UZ(17,"br"),p._uU(18,"\n            "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n          "),p.qZA(),p._uU(22,"\n          "),p.TgZ(23,"td"),p._uU(24,"\n            "),p.YNc(25,E,4,8,"app-org-badge",16),p._uU(26,"\n          "),p.qZA(),p._uU(27,"\n          "),p.TgZ(28,"td",17),p._uU(29,"\n            "),p.YNc(30,j,3,4,"a",18),p._uU(31,"\n          "),p.qZA(),p._uU(32,"\n        "),p.qZA()}if(2&n){const n=t.$implicit,i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,8,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!i.organization),p.xp6(5),p.Q6J("ngIf",i.cipherDocs.has(n.id))}}function D(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,B,33,10,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"inactive2faFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"inactive2faFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function R(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,F,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,D,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function G(n,t){}class W extends J.Y{constructor(n,t,i,e,o,a){super(n,a,t,e,o),this.route=i}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return S(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>S(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}W.ɵfac=function(n){return new(n||W)(p.Y36(l.u),p.Y36(s.Z),p.Y36(a.gz),p.Y36(Q.$),p.Y36(c.C),p.Y36(r.Mn))},W.ɵcmp=p.Xpm({type:W,selectors:[["app-inactive-two-factor-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","target","_blank","rel","noopener",3,"href",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"],["bitBadge","","target","_blank","rel","noopener",3,"href"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,k,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,P,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,R,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,G,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"inactive2faReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"inactive2faReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[g.sg,g.O5,h.O,U.o,Z.O,_._,f.l,x.C,g.Ov,g.JJ,m.C,v.l],encapsulation:2});var H=i(22353),X=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function K(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function V(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function nn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noReusedPasswords"),"\n  "))}function tn(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",20),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function en(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function on(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",21),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function an(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",22),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function rn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",23),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n            "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function sn(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.YNc(9,tn,6,4,"ng-container",15),p._uU(10,"\n            "),p.YNc(11,en,4,1,"ng-template",null,16,p.W1O),p._uU(13,"\n            "),p.YNc(14,on,9,6,"ng-container",1),p._uU(15,"\n            "),p.YNc(16,an,9,6,"ng-container",1),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td"),p._uU(25,"\n            "),p.YNc(26,rn,4,8,"app-org-badge",17),p._uU(27,"\n          "),p.qZA(),p._uU(28,"\n          "),p.TgZ(29,"td",18),p._uU(30,"\n            "),p.TgZ(31,"span",19),p._uU(32),p.ALo(33,"i18n"),p.qZA(),p._uU(34,"\n          "),p.qZA(),p._uU(35,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!e.organization),p.xp6(6),p.hij("\n              ",p.xi3(33,8,"reusedXTimes",e.passwordUseMap.get(n.login.password)),"\n            ")}}function cn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,sn,36,11,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"reusedPasswordsFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"reusedPasswordsFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function un(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,nn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,cn,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function pn(n,t){}class ln extends H.Q{constructor(n,t,i,e,o){super(n,e,t,o),this.route=i}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return X(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>X(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}ln.ɵfac=function(n){return new(n||ln)(p.Y36(l.u),p.Y36(s.Z),p.Y36(a.gz),p.Y36(r.Mn),p.Y36(c.C))},ln.ɵcmp=p.Xpm({type:ln,selectors:[["app-reused-passwords-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","variant","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,K,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,V,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,un,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,pn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"reusedPasswordsReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"reusedPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[g.sg,g.O5,h.O,U.o,Z.O,_._,f.l,x.C,g.Ov,g.JJ,m.C,v.l],encapsulation:2});var dn=i(88775),gn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function hn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Un(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Zn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noUnsecuredWebsites"),"\n  "))}function _n(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",17),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function fn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",18),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function An(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",19),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n            "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function xn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.TgZ(9,"a",15),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n            "),p.YNc(13,_n,9,6,"ng-container",1),p._uU(14,"\n            "),p.YNc(15,fn,9,6,"ng-container",1),p._uU(16,"\n            "),p._UZ(17,"br"),p._uU(18,"\n            "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n          "),p.qZA(),p._uU(22,"\n          "),p.TgZ(23,"td"),p._uU(24,"\n            "),p.YNc(25,An,4,8,"app-org-badge",16),p._uU(26,"\n          "),p.qZA(),p._uU(27,"\n        "),p.qZA()}if(2&n){const n=t.$implicit,i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,7,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!i.organization)}}function mn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,xn,28,9,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"unsecuredWebsitesFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"unsecuredWebsitesFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function vn(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,Zn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,mn,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function bn(n,t){}class wn extends dn.i{constructor(n,t,i,e,o){super(n,e,t,o),this.route=i}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return gn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>gn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}wn.ɵfac=function(n){return new(n||wn)(p.Y36(l.u),p.Y36(s.Z),p.Y36(a.gz),p.Y36(r.Mn),p.Y36(c.C))},wn.ɵcmp=p.Xpm({type:wn,selectors:[["app-unsecured-websites-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,hn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,Un,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,vn,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,bn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"unsecuredWebsitesReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"unsecuredWebsitesReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[g.sg,g.O5,h.O,U.o,Z.O,_._,x.C,g.Ov,g.JJ,m.C,v.l],encapsulation:2});var qn=i(51453),In=i(2578),Tn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function yn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Ln(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function On(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noWeakPasswords"),"\n  "))}function zn(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",20),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function Nn(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function Yn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",21),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function Cn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",22),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function Jn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",23),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n            "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function Qn(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.YNc(9,zn,6,4,"ng-container",15),p._uU(10,"\n            "),p.YNc(11,Nn,4,1,"ng-template",null,16,p.W1O),p._uU(13,"\n            "),p.YNc(14,Yn,9,6,"ng-container",1),p._uU(15,"\n            "),p.YNc(16,Cn,9,6,"ng-container",1),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td"),p._uU(25,"\n            "),p.YNc(26,Jn,4,8,"app-org-badge",17),p._uU(27,"\n          "),p.qZA(),p._uU(28,"\n          "),p.TgZ(29,"td",18),p._uU(30,"\n            "),p.TgZ(31,"span",19),p._uU(32),p.ALo(33,"i18n"),p.qZA(),p._uU(34,"\n          "),p.qZA(),p._uU(35,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!e.organization),p.xp6(5),p.Q6J("variant",e.passwordStrengthMap.get(n.id)[1]),p.xp6(1),p.hij("\n              ",p.lcZ(33,9,e.passwordStrengthMap.get(n.id)[0]),"\n            ")}}function Sn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,Qn,36,11,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"weakPasswordsFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"weakPasswordsFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function kn(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,On,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,Sn,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function Pn(n,t){}class Fn extends In.m{constructor(n,t,i,e,o,a){super(n,t,o,i,a),this.route=e}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Tn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>Tn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}Fn.ɵfac=function(n){return new(n||Fn)(p.Y36(l.u),p.Y36(qn.A),p.Y36(s.Z),p.Y36(a.gz),p.Y36(r.Mn),p.Y36(c.C))},Fn.ɵcmp=p.Xpm({type:Fn,selectors:[["app-weak-passwords-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","",3,"variant"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,yn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,Ln,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,kn,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,Pn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"weakPasswordsReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"weakPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[g.sg,g.O5,h.O,U.o,Z.O,_._,f.l,x.C,g.Ov,g.JJ,m.C,v.l],encapsulation:2});var Mn=i(34961),$n=i(73369),En=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};class jn{constructor(n,t,i,e){this.router=n,this.organizationService=t,this.messagingService=i,this.dialogService=e}canActivate(n,t){return En(this,void 0,void 0,(function*(){const t=this.organizationService.get(n.params.organizationId);if(null==t)return this.router.createUrlTree(["/"]);if(t.isFreeOrg){if(!t.canEditSubscription)return yield this.dialogService.openSimpleDialog({title:{key:"upgradeOrganization"},content:{key:"notAvailableForFreeOrganization"},acceptButtonText:{key:"ok"},cancelButtonText:null,type:"info"}),!1;this.messagingService.send("upgradeOrganization",{organizationId:t.id})}return!t.isFreeOrg}))}}jn.ɵfac=function(n){return new(n||jn)(p.LFG(a.F0),p.LFG(r.Mn),p.LFG(Mn.o),p.LFG($n.x))},jn.ɵprov=p.Yz7({token:jn,factory:jn.ɵfac,providedIn:"root"});var Bn=i(47064),Dn=i(56992),Rn=i(54019),Gn=i(59157),Wn=i(68362),Hn=i(19576),Xn=i(87264),Kn=i(92333),Vn=i(59778),nt=i(91403);class tt{constructor(n){this.message=n.humanReadableMessage,this.appIcon=n.appIcon,this.appName=n.appName,this.userId=n.userId,this.userName=n.userName,this.userEmail=n.userEmail,this.date=n.date,this.ip=n.ip,this.type=Xn.tw[n.type],this.installationId=n.installationId}}var it=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};class et{getEventExport(n){return it(this,void 0,void 0,(function*(){return Vn.unparse(n.map((n=>new tt(n))))}))}getFileName(n=null,t="csv"){return nt.b.getFileName(n,t)}}et.ɵfac=function(n){return new(n||et)},et.ɵprov=p.Yz7({token:et,factory:et.ɵfac,providedIn:"root"});var ot=i(53883),at=i(78627),rt=i(99721),st=i(53481),ct=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};class ut{constructor(n,t,i,e,o,a){this.eventService=n,this.i18nService=t,this.exportService=i,this.platformUtilsService=e,this.logService=o,this.fileDownloadService=a,this.loading=!0,this.loaded=!1,this.dirtyDates=!0;const r=this.eventService.getDefaultDateFilters();this.start=r[0],this.end=r[1]}exportEvents(){return ct(this,void 0,void 0,(function*(){if(this.appApiPromiseUnfulfilled()||this.dirtyDates)return;this.loading=!0;const n=this.parseDates();if(null!=n){try{this.exportPromise=this.export(n[0],n[1]),yield this.exportPromise}catch(t){this.logService.error(`Handled exception: ${t}`)}this.exportPromise=null,this.loading=!1}}))}loadEvents(n){return ct(this,void 0,void 0,(function*(){if(this.appApiPromiseUnfulfilled())return;const t=this.parseDates();if(null==t)return;this.loading=!0;let i=[];try{const e=this.loadAndParseEvents(t[0],t[1],n?null:this.continuationToken);n?this.refreshPromise=e:this.morePromise=e;const o=yield e;this.continuationToken=o.continuationToken,i=o.events}catch(e){this.logService.error(`Handled exception: ${e}`)}!n&&null!=this.events&&this.events.length>0?this.events=this.events.concat(i):this.events=i,this.dirtyDates=!1,this.loading=!1,this.morePromise=null,this.refreshPromise=null}))}loadAndParseEvents(n,t,i){return ct(this,void 0,void 0,(function*(){const e=yield this.requestEvents(n,t,i),o=yield Promise.all(e.data.map((n=>ct(this,void 0,void 0,(function*(){const t=null==n.actingUserId?n.userId:n.actingUserId,i=yield this.eventService.getEventInfo(n),e=this.getUserName(n,t),o=null!=e?e.name:this.i18nService.t("unknown");return new ot.Y({message:i.message,humanReadableMessage:i.humanReadableMessage,appIcon:i.appIcon,appName:i.appName,userId:t,userName:o,userEmail:null!=e?e.email:"",date:n.date,ip:n.ipAddress,type:n.type,installationId:n.installationId,systemUser:n.systemUser,serviceAccountId:n.serviceAccountId})})))));return{continuationToken:e.continuationToken,events:o}}))}parseDates(){let n=null;try{n=this.eventService.formatDateFilters(this.start,this.end)}catch(t){return this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("invalidDateRange")),null}return n}appApiPromiseUnfulfilled(){return null!=this.refreshPromise||null!=this.morePromise||null!=this.exportPromise}export(n,t){return ct(this,void 0,void 0,(function*(){let i=this.continuationToken,e=[].concat(this.events);for(;null!=i;){const o=yield this.loadAndParseEvents(n,t,i);i=o.continuationToken,e=e.concat(o.events)}const o=yield this.exportService.getEventExport(e),a=this.exportService.getFileName(this.exportFileName,"csv");this.fileDownloadService.download({fileName:a,blobData:o,blobOptions:{type:"text/plain"}})}))}}ut.ɵfac=function(n){return new(n||ut)(p.Y36(Kn.PO),p.Y36(at.D),p.Y36(et),p.Y36(rt.P),p.Y36(Q.$),p.Y36(st._))},ut.ɵdir=p.lG2({type:ut});var pt=i(55602),lt=i(47244),dt=i(5959),gt=i(98645),ht=i(24610),Ut=i(24637),Zt=i(11512),_t=i(36179),ft=i(54735),At=i(50941),xt=i(26361),mt=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(t){a(t)}}function s(n){try{c(e.throw(n))}catch(t){a(t)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(r,s)}c((e=e.apply(n,t||[])).next())}))};function vt(n,t){1&n&&(p.ynx(0),p._uU(1,"\n  "),p._UZ(2,"i",11),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",12),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function bt(n,t){1&n&&(p.TgZ(0,"p"),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"noEventsInList")))}function wt(n,t){if(1&n&&(p.TgZ(0,"tr",18),p._uU(1,"\n        "),p.TgZ(2,"td",19),p._uU(3),p.ALo(4,"date"),p.qZA(),p._uU(5,"\n        "),p.TgZ(6,"td",15),p._uU(7,"\n          "),p.TgZ(8,"span",20),p._uU(9),p.qZA(),p._uU(10,"\n        "),p.qZA(),p._uU(11,"\n        "),p.TgZ(12,"td",15),p._uU(13,"\n          "),p.TgZ(14,"span",20),p._uU(15),p.qZA(),p._uU(16,"\n        "),p.qZA(),p._uU(17,"\n        "),p._UZ(18,"td",21),p._uU(19,"\n      "),p.qZA()),2&n){const n=t.$implicit;p.xp6(3),p.Oqu(p.xi3(4,7,n.date,"medium")),p.xp6(5),p.hYB("title","",n.appName,", ",n.ip,""),p.xp6(1),p.Oqu(n.appName),p.xp6(5),p.s9C("title",n.userEmail),p.xp6(1),p.Oqu(n.userName),p.xp6(3),p.Q6J("innerHTML",n.message,p.oJD)}}function qt(n,t){if(1&n&&(p._uU(0,"\n      "),p.YNc(1,wt,20,10,"tr",17),p._uU(2,"\n    ")),2&n){const n=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",n.events)}}function It(n,t){1&n&&(p.TgZ(0,"bit-table"),p._uU(1,"\n    "),p.ynx(2,14),p._uU(3,"\n      "),p.TgZ(4,"tr"),p._uU(5,"\n        "),p.TgZ(6,"th",15),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n        "),p.TgZ(10,"th",15),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n        "),p.TgZ(14,"th",15),p._uU(15),p.ALo(16,"i18n"),p.qZA(),p._uU(17,"\n        "),p.TgZ(18,"th",15),p._uU(19),p.ALo(20,"i18n"),p.qZA(),p._uU(21,"\n      "),p.qZA(),p._uU(22,"\n    "),p.BQk(),p._uU(23,"\n    "),p.YNc(24,qt,3,1,"ng-template",16),p._uU(25,"\n  "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,4,"timestamp")),p.xp6(4),p.Oqu(p.lcZ(12,6,"client")),p.xp6(4),p.Oqu(p.lcZ(16,8,"member")),p.xp6(4),p.Oqu(p.lcZ(20,10,"event")))}function Tt(n,t){1&n&&(p._UZ(0,"i",25),p.ALo(1,"i18n")),2&n&&p.s9C("title",p.lcZ(1,1,"loading"))}function yt(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"button",22,23),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw(2);return p.KtG(t.loadEvents(!1))})),p._uU(2,"\n    "),p.YNc(3,Tt,2,3,"i",24),p._uU(4,"\n    "),p.TgZ(5,"span"),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n  "),p.qZA()}if(2&n){const n=p.MAs(1),t=p.oxw(2);p.Q6J("appApiAction",t.morePromise)("disabled",t.loaded&&n.loading),p.xp6(3),p.Q6J("ngIf",n.loading),p.xp6(3),p.Oqu(p.lcZ(7,4,"loadMore"))}}function Lt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p.YNc(2,bt,3,3,"p",10),p._uU(3,"\n  "),p.YNc(4,It,26,12,"bit-table",10),p._uU(5,"\n  "),p.YNc(6,yt,9,6,"button",13),p._uU(7,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.events||!n.events.length),p.xp6(2),p.Q6J("ngIf",n.events&&n.events.length),p.xp6(2),p.Q6J("ngIf",n.continuationToken)}}const Ot=function(n){return{loading:n}},zt=function(n,t){return{"bwi-sign-in":n,"bwi-spinner bwi-spin":t}},Nt={[Xn.gJ.SCIM]:null,[Xn.gJ.DomainVerification]:"domainVerification"};class Yt extends ut{constructor(n,t,i,e,o,a,r,s,c,u,p,l,d){super(i,e,o,a,s,d),this.apiService=n,this.route=t,this.router=r,this.userNamePipe=c,this.organizationService=u,this.organizationUserService=p,this.providerService=l,this.exportFileName="org-events",this.orgUsersUserIdMap=new Map,this.destroy$=new Rn.x}ngOnInit(){return mt(this,void 0,void 0,(function*(){this.route.params.pipe((0,Gn.b)((n=>mt(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,this.organization=yield this.organizationService.get(this.organizationId),null!=this.organization&&this.organization.useEvents?yield this.load():yield this.router.navigate(["/organizations",this.organizationId])})))),(0,Wn.R)(this.destroy$)).subscribe()}))}load(){return mt(this,void 0,void 0,(function*(){if((yield this.organizationUserService.getAllUsers(this.organizationId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:t,email:n.email})})),null!=this.organization.providerId)try{if(null!=(yield this.providerService.get(this.organization.providerId))&&(yield this.providerService.get(this.organization.providerId)).canManageUsers){(yield this.apiService.getProviderUsers(this.organization.providerId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:`${t} (${this.organization.providerName})`,email:n.email})}))}}catch(n){this.logService.warning(n)}yield this.loadEvents(!0),this.loaded=!0}))}requestEvents(n,t,i){return this.apiService.getEventsOrganization(this.organizationId,n,t,i)}getUserName(n,t){if(null!=n.installationId)return`Installation: ${n.installationId}`;if(null!=t){if(this.orgUsersUserIdMap.has(t))return this.orgUsersUserIdMap.get(t);if(null!=n.providerId&&n.providerId===this.organization.providerId)return{name:this.organization.providerName}}if(null!=n.systemUser){const t=Nt[n.systemUser];return t?{name:this.i18nService.t(t)}:{name:Xn.gJ[n.systemUser]}}return n.serviceAccountId?{name:this.i18nService.t("serviceAccount")+" "+this.getShortId(n.serviceAccountId)}:null}getShortId(n){return null==n?void 0:n.substring(0,8)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Yt.ɵfac=function(n){return new(n||Yt)(p.Y36(pt.s),p.Y36(a.gz),p.Y36(Kn.PO),p.Y36(at.D),p.Y36(et),p.Y36(rt.P),p.Y36(a.F0),p.Y36(Q.$),p.Y36(Hn.z),p.Y36(r.Mn),p.Y36(lt.t),p.Y36(dt.H),p.Y36(st._))},Yt.ɵcmp=p.Xpm({type:Yt,selectors:[["app-org-events"]],features:[p.qOj],decls:58,vars:36,consts:[[1,"tw-mb-4"],[1,"tw-mt-4","tw-flex","tw-items-center"],["bitInput","","type","datetime-local",3,"placeholder","ngModel","ngModelChange","change"],[1,"tw-mx-2"],[3,"appApiAction"],["refreshForm",""],["type","button","bitButton","","buttonType","primary",1,"tw-mx-3","tw-mt-1",3,"disabled","click"],["exportForm",""],["type","button","bitButton","",1,"tw-mt-1",3,"ngClass","disabled","click"],["aria-hidden","true",1,"bwi","bwi-fw",3,"ngClass"],[4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],["type","button","bitButton","","buttonType","primary",3,"appApiAction","disabled","click",4,"ngIf"],["header",""],["bitCell",""],["body",""],["bitRow","","alignContent","top",4,"ngFor","ngForOf"],["bitRow","","alignContent","top"],["bitCell","",1,"tw-whitespace-nowrap"],[3,"title"],["bitCell","",3,"innerHTML"],["type","button","bitButton","","buttonType","primary",3,"appApiAction","disabled","click"],["moreBtn",""],["class","bwi bwi-spinner bwi-spin","aria-hidden","true",3,"title",4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"]],template:function(n,t){if(1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n  "),p.TgZ(6,"div",1),p._uU(7,"\n    "),p.TgZ(8,"bit-form-field"),p._uU(9,"\n      "),p.TgZ(10,"bit-label"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n      "),p.TgZ(14,"input",2),p.NdJ("ngModelChange",(function(n){return t.start=n}))("change",(function(){return t.dirtyDates=!0})),p.ALo(15,"i18n"),p.qZA(),p._uU(16,"\n    "),p.qZA(),p._uU(17,"\n    "),p.TgZ(18,"span",3),p._uU(19,"-"),p.qZA(),p._uU(20,"\n    "),p.TgZ(21,"bit-form-field"),p._uU(22,"\n      "),p.TgZ(23,"bit-label"),p._uU(24),p.ALo(25,"i18n"),p.qZA(),p._uU(26,"\n      "),p.TgZ(27,"input",2),p.NdJ("ngModelChange",(function(n){return t.end=n}))("change",(function(){return t.dirtyDates=!0})),p.ALo(28,"i18n"),p.qZA(),p._uU(29,"\n    "),p.qZA(),p._uU(30,"\n    "),p.TgZ(31,"form",4,5),p._uU(33,"\n      "),p.TgZ(34,"button",6),p.NdJ("click",(function(){return t.loadEvents(!0)})),p._uU(35),p.ALo(36,"i18n"),p.qZA(),p._uU(37,"\n    "),p.qZA(),p._uU(38,"\n    "),p.TgZ(39,"form",4,7),p._uU(41,"\n      "),p.TgZ(42,"button",8),p.NdJ("click",(function(){return t.exportEvents()})),p._uU(43,"\n        "),p.TgZ(44,"span"),p._uU(45),p.ALo(46,"i18n"),p.qZA(),p._uU(47,"\n        "),p._UZ(48,"i",9),p._uU(49,"\n      "),p.qZA(),p._uU(50,"\n    "),p.qZA(),p._uU(51,"\n  "),p.qZA(),p._uU(52,"\n"),p.qZA(),p._uU(53,"\n"),p.YNc(54,vt,9,6,"ng-container",10),p._uU(55,"\n"),p.YNc(56,Lt,8,3,"ng-container",10),p._uU(57,"\n")),2&n){const n=p.MAs(32),i=p.MAs(40);p.xp6(3),p.Oqu(p.lcZ(4,17,"eventLogs")),p.xp6(8),p.Oqu(p.lcZ(12,19,"from")),p.xp6(3),p.s9C("placeholder",p.lcZ(15,21,"startDate")),p.Q6J("ngModel",t.start),p.xp6(10),p.Oqu(p.lcZ(25,23,"to")),p.xp6(3),p.s9C("placeholder",p.lcZ(28,25,"endDate")),p.Q6J("ngModel",t.end),p.xp6(4),p.Q6J("appApiAction",t.refreshPromise),p.xp6(3),p.Q6J("disabled",t.loaded&&n.loading),p.xp6(1),p.hij("\n        ",p.lcZ(36,27,"update"),"\n      "),p.xp6(4),p.Q6J("appApiAction",t.exportPromise),p.xp6(3),p.Q6J("ngClass",p.VKq(31,Ot,i.loading))("disabled",t.loaded&&i.loading||t.dirtyDates),p.xp6(3),p.Oqu(p.lcZ(46,29,"export")),p.xp6(3),p.Q6J("ngClass",p.WLB(33,zt,!i.loading,i.loading)),p.xp6(6),p.Q6J("ngIf",!t.loaded),p.xp6(2),p.Q6J("ngIf",t.loaded)}},dependencies:[g.mk,g.sg,g.O5,gt._Y,gt.Fj,gt.JJ,gt.JL,gt.On,gt.F,ht.b,A.r,Ut.d,Zt.G,_t.u,ft.a,At.Y,xt.v,ft.f,g.uU,m.C],encapsulation:2});var Ct=i(30359),Jt=i(84598),Qt=i(92786),St=i(53634);function kt(n,t){1&n&&(p.TgZ(0,"a",11),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.hij("\n            ",p.lcZ(2,1,"eventLogs"),"\n          "))}function Pt(n,t){1&n&&(p.TgZ(0,"a",12),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.hij("\n            ",p.lcZ(2,1,"reports"),"\n          "))}function Ft(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n        "),p.TgZ(2,"div",7),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n        "),p.TgZ(6,"div",8),p._uU(7,"\n          "),p.YNc(8,kt,3,3,"a",9),p._uU(9,"\n          "),p.YNc(10,Pt,3,3,"a",10),p._uU(11,"\n        "),p.qZA(),p._uU(12,"\n      "),p.qZA()),2&n){const n=t.ngIf;p.xp6(3),p.Oqu(p.lcZ(4,3,"reporting")),p.xp6(5),p.Q6J("ngIf",n.canAccessEventLogs),p.xp6(2),p.Q6J("ngIf",n.canAccessReports)}}function Mt(n,t){if(1&n&&(p.TgZ(0,"div",4),p._uU(1,"\n      "),p.YNc(2,Ft,13,5,"div",5),p.ALo(3,"async"),p._uU(4,"\n    "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",p.lcZ(3,1,n.organization$))}}class $t{constructor(n,t){this.route=n,this.organizationService=t}ngOnInit(){this.organization$=this.route.params.pipe((0,Ct.w)((n=>this.organizationService.get$(n.organizationId))),(0,Jt.d)({refCount:!0,bufferSize:1})),this.showLeftNav$=this.organization$.pipe((0,Qt.U)((n=>n.canAccessEventLogs&&n.canAccessReports)),(0,St.O)(!0))}}$t.ɵfac=function(n){return new(n||$t)(p.Y36(a.gz),p.Y36(r.Mn))},$t.ɵcmp=p.Xpm({type:$t,selectors:[["app-org-reporting"]],decls:15,vars:6,consts:[[1,"container","page-content"],[1,"row"],["class","col-3",4,"ngIf"],[1,"col-9",3,"ngClass"],[1,"col-3"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],["routerLink","events","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","reports","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","events","routerLinkActive","active",1,"list-group-item"],["routerLink","reports","routerLinkActive","active",1,"list-group-item"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"div",1),p._uU(3,"\n    "),p.YNc(4,Mt,5,3,"div",2),p.ALo(5,"async"),p._uU(6,"\n    "),p.TgZ(7,"div",3),p.ALo(8,"async"),p._uU(9,"\n      "),p._UZ(10,"router-outlet"),p._uU(11,"\n    "),p.qZA(),p._uU(12,"\n  "),p.qZA(),p._uU(13,"\n"),p.qZA(),p._uU(14,"\n")),2&n&&(p.xp6(4),p.Q6J("ngIf",p.lcZ(5,2,t.showLeftNav$)),p.xp6(3),p.Q6J("ngClass",p.lcZ(8,4,t.showLeftNav$)?"col-9":"col-12"))},dependencies:[g.mk,g.O5,a.lC,a.rH,a.Od,g.Ov,m.C],encapsulation:2});var Et=i(67775),jt=i(58172),Bt=i(2930);function Dt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p.TgZ(2,"div",4),p._uU(3,"\n    "),p.TgZ(4,"h1"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.qZA(),p._uU(8,"\n\n  "),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n\n  "),p._UZ(13,"app-report-list",5),p.ALo(14,"async"),p._uU(15,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(5),p.Oqu(p.lcZ(6,3,"reports")),p.xp6(5),p.Oqu(p.lcZ(11,5,"orgsReportsDesc")),p.xp6(3),p.Q6J("reports",p.lcZ(14,7,n.reports$))}}function Rt(n,t){1&n&&(p.TgZ(0,"a",6),p._uU(1,"\n      "),p._UZ(2,"i",7),p._uU(3),p.ALo(4,"i18n"),p.qZA()),2&n&&(p.xp6(3),p.hij("\n      ",p.lcZ(4,1,"backToReports"),"\n    "))}class Gt{constructor(n,t,i,e){this.route=n,this.stateService=t,this.organizationService=i,this.router=e}ngOnInit(){this.homepage$=this.router.events.pipe((0,Et.h)((n=>n instanceof a.m2)),(0,Qt.U)((n=>n.urlAfterRedirects.endsWith("/reports"))),(0,St.O)(!0)),this.reports$=this.route.params.pipe((0,Qt.U)((n=>this.organizationService.get(n.organizationId))),(0,Qt.U)((n=>this.buildReports(n.isFreeOrg))))}buildReports(n){const t=n?o.x6.RequiresUpgrade:o.x6.Enabled;return[Object.assign(Object.assign({},o.Gm[o.C2.ExposedPasswords]),{variant:t}),Object.assign(Object.assign({},o.Gm[o.C2.ReusedPasswords]),{variant:t}),Object.assign(Object.assign({},o.Gm[o.C2.WeakPasswords]),{variant:t}),Object.assign(Object.assign({},o.Gm[o.C2.UnsecuredWebsites]),{variant:t}),Object.assign(Object.assign({},o.Gm[o.C2.Inactive2fa]),{variant:t})]}}Gt.ɵfac=function(n){return new(n||Gt)(p.Y36(a.gz),p.Y36(jt.b),p.Y36(r.Mn),p.Y36(a.F0))},Gt.ɵcmp=p.Xpm({type:Gt,selectors:[["app-org-reports-home"]],decls:14,vars:6,consts:[[4,"ngIf"],[1,"row","mt-4"],[1,"col"],["bitButton","","routerLink","./",4,"ngIf"],[1,"page-header"],[3,"reports"],["bitButton","","routerLink","./"],["aria-hidden","true",1,"bwi","bwi-angle-left"]],template:function(n,t){1&n&&(p.YNc(0,Dt,16,9,"ng-container",0),p.ALo(1,"async"),p._uU(2,"\n\n"),p._UZ(3,"router-outlet"),p._uU(4,"\n\n"),p.TgZ(5,"div",1),p._uU(6,"\n  "),p.TgZ(7,"div",2),p._uU(8,"\n    "),p.YNc(9,Rt,5,3,"a",3),p.ALo(10,"async"),p._uU(11,"\n  "),p.qZA(),p._uU(12,"\n"),p.qZA(),p._uU(13,"\n")),2&n&&(p.Q6J("ngIf",p.lcZ(1,2,t.homepage$)),p.xp6(9),p.Q6J("ngIf",!p.lcZ(10,4,t.homepage$)))},dependencies:[g.O5,a.lC,a.rH,A.r,Bt.s,g.Ov,m.C],encapsulation:2});const Wt=[{path:"",component:$t,canActivate:[Bn.G],data:{organizationPermissions:r.$G},children:[{path:"",pathMatch:"full",canActivate:[Dn.S],data:{autoRedirectCallback:function(n){if(n.canAccessEventLogs)return"events";if(n.canAccessReports)return"reports";return}},children:[]},{path:"reports",component:Gt,canActivate:[Bn.G],data:{titleId:"reports"},children:[{path:"exposed-passwords-report",component:C,data:{titleId:"exposedPasswordsReport"},canActivate:[jn]},{path:"inactive-two-factor-report",component:W,data:{titleId:"inactive2faReport"},canActivate:[jn]},{path:"reused-passwords-report",component:ln,data:{titleId:"reusedPasswordsReport"},canActivate:[jn]},{path:"unsecured-websites-report",component:wn,data:{titleId:"unsecuredWebsitesReport"},canActivate:[jn]},{path:"weak-passwords-report",component:Fn,data:{titleId:"weakPasswordsReport"},canActivate:[jn]}]},{path:"events",component:Yt,canActivate:[Bn.G],data:{titleId:"eventLogs",organizationPermissions:n=>n.canAccessEventLogs}}]}];class Ht{}Ht.ɵfac=function(n){return new(n||Ht)},Ht.ɵmod=p.oAB({type:Ht}),Ht.ɵinj=p.cJS({imports:[a.Bz.forChild(Wt),a.Bz]});class Xt{}Xt.ɵfac=function(n){return new(n||Xt)},Xt.ɵmod=p.oAB({type:Xt}),Xt.ɵinj=p.cJS({imports:[e.m,o.FX,Ht]})}}]);
//# sourceMappingURL=551.58781405247873329959.js.map