"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[74],{51074:(n,t,o)=>{o.r(t),o.d(t,{OrganizationVaultExportModule:()=>X});var i=o(71146),e=o(75557),r=o(47064),a=o(58691),u=o(87264),l=o(85958),c=o(25111),p=o(24852),s=o(78627),d=o(99721),g=o(87483),f=o(83924),b=o(66459),_=o(42304),Z=o(98645),x=o(53481),m=o(73369),U=o(23915),y=o(19419),w=o(24610),A=o(90258),h=o(56945),T=o(81974),q=o(24083),v=o(24637),E=o(11512),I=o(54666),O=o(1e4),F=o(36179),P=o(44358),J=o(21656),Q=o(21500),Y=o(66079),C=o(28975),N=o(30469),L=o(28315),z=o(82933),B=function(n,t,o,i){return new(o||(o=Promise))((function(e,r){function a(n){try{l(i.next(n))}catch(t){r(t)}}function u(n){try{l(i.throw(n))}catch(t){r(t)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(a,u)}l((i=i.apply(n,t||[])).next())}))};function S(n,t){1&n&&(p.TgZ(0,"bit-callout",10),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"vaultExportDisabled")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"personalVaultExportPolicyInEffect"),"\n  "))}function k(n,t){if(1&n&&p._UZ(0,"app-export-scope-callout",11),2&n){const n=p.oxw(2);p.Q6J("organizationId",n.organizationId)}}function j(n,t){if(1&n&&p._UZ(0,"bit-option",15),2&n){const n=t.$implicit;p.Q6J("value",n.id)("label",n.name)}}function G(n,t){if(1&n&&(p.TgZ(0,"bit-form-field"),p._uU(1,"\n    "),p.TgZ(2,"bit-label"),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n    "),p.TgZ(6,"bit-select",12),p._uU(7,"\n      "),p._UZ(8,"bit-option",13),p.ALo(9,"i18n"),p._uU(10,"\n      "),p.YNc(11,j,1,2,"bit-option",14),p.ALo(12,"async"),p._uU(13,"\n    "),p.qZA(),p._uU(14,"\n  "),p.qZA()),2&n){const n=p.oxw(2);p.xp6(3),p.Oqu(p.lcZ(4,3,"exportFrom")),p.xp6(5),p.Q6J("label",p.lcZ(9,5,"myVault")),p.xp6(3),p.Q6J("ngForOf",p.lcZ(12,7,n.organizations$))}}function M(n,t){if(1&n&&p._UZ(0,"bit-option",16),2&n){const n=t.$implicit;p.Q6J("value",n.value)("label",n.name)}}function V(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"div",20),p._uU(3,"\n        "),p.TgZ(4,"bit-form-field"),p._uU(5,"\n          "),p.TgZ(6,"bit-label"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n          "),p._UZ(10,"input",21),p._uU(11,"\n          "),p.TgZ(12,"button",22),p.NdJ("toggledChange",(function(t){p.CHM(n);const o=p.oxw(3);return p.KtG(o.showFilePassword=t)})),p.qZA(),p._uU(13,"\n          "),p.TgZ(14,"bit-hint"),p._uU(15),p.ALo(16,"i18n"),p.qZA(),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n        "),p.TgZ(19,"app-password-strength",23),p._uU(20," "),p.qZA(),p._uU(21,"\n      "),p.qZA(),p._uU(22,"\n      "),p.TgZ(23,"bit-form-field"),p._uU(24,"\n        "),p.TgZ(25,"bit-label"),p._uU(26),p.ALo(27,"i18n"),p.qZA(),p._uU(28,"\n        "),p._UZ(29,"input",24),p._uU(30,"\n        "),p.TgZ(31,"button",22),p.NdJ("toggledChange",(function(t){p.CHM(n);const o=p.oxw(3);return p.KtG(o.showFilePassword=t)})),p.qZA(),p._uU(32,"\n      "),p.qZA(),p._uU(33,"\n    "),p.BQk()}if(2&n){const n=p.oxw(3);p.xp6(7),p.Oqu(p.lcZ(8,7,"filePassword")),p.xp6(5),p.Q6J("toggled",n.showFilePassword),p.xp6(3),p.Oqu(p.lcZ(16,9,"exportPasswordDescription")),p.xp6(4),p.Q6J("password",n.filePassword)("showText",!0),p.xp6(7),p.Oqu(p.lcZ(27,11,"confirmFilePassword")),p.xp6(5),p.Q6J("toggled",n.showFilePassword)}}function D(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"bit-radio-group",17),p._uU(3,"\n      "),p.TgZ(4,"bit-label"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n\n      "),p.TgZ(8,"bit-radio-button",18),p._uU(9,"\n        "),p.TgZ(10,"bit-label"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n        "),p.TgZ(14,"bit-hint"),p._uU(15),p.ALo(16,"i18n"),p.qZA(),p._uU(17,"\n      "),p.qZA(),p._uU(18,"\n\n      "),p.TgZ(19,"bit-radio-button",19),p._uU(20,"\n        "),p.TgZ(21,"bit-label"),p._uU(22),p.ALo(23,"i18n"),p.qZA(),p._uU(24,"\n        "),p.TgZ(25,"bit-hint"),p._uU(26),p.ALo(27,"i18n"),p.qZA(),p._uU(28,"\n      "),p.qZA(),p._uU(29,"\n    "),p.qZA(),p._uU(30,"\n\n    "),p.YNc(31,V,34,13,"ng-container",6),p._uU(32,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(5),p.Oqu(p.lcZ(6,8,"exportTypeHeading")),p.xp6(3),p.Q6J("value",n.encryptedExportType.AccountEncrypted),p.xp6(3),p.Oqu(p.lcZ(12,10,"accountRestricted")),p.xp6(4),p.Oqu(p.lcZ(16,12,"accountRestrictedOptionDescription")),p.xp6(4),p.Q6J("value",n.encryptedExportType.FileEncrypted),p.xp6(3),p.Oqu(p.lcZ(23,14,"passwordProtected")),p.xp6(4),p.Oqu(p.lcZ(27,16,"passwordProtectedOptionDescription")),p.xp6(5),p.Q6J("ngIf",n.fileEncryptionType==n.encryptedExportType.FileEncrypted)}}function H(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"form",1,2),p.NdJ("ngSubmit",(function(){p.CHM(n);const t=p.oxw();return p.KtG(t.submit())})),p._uU(2,"\n  "),p.TgZ(3,"h1",3),p._uU(4),p.ALo(5,"i18n"),p.qZA(),p._uU(6,"\n\n  "),p.YNc(7,S,4,6,"bit-callout",4),p._uU(8,"\n  "),p.YNc(9,k,1,1,"app-export-scope-callout",5),p._uU(10,"\n\n  "),p.YNc(11,G,15,9,"bit-form-field",6),p.ALo(12,"async"),p._uU(13,"\n\n  "),p.TgZ(14,"bit-form-field"),p._uU(15,"\n    "),p.TgZ(16,"bit-label"),p._uU(17),p.ALo(18,"i18n"),p.qZA(),p._uU(19,"\n    "),p.TgZ(20,"bit-select",7),p._uU(21,"\n      "),p.YNc(22,M,1,2,"bit-option",8),p._uU(23,"\n    "),p.qZA(),p._uU(24,"\n  "),p.qZA(),p._uU(25,"\n\n  "),p.YNc(26,D,33,18,"ng-container",6),p._uU(27,"\n\n  "),p.TgZ(28,"button",9),p._uU(29),p.ALo(30,"i18n"),p.qZA(),p._uU(31,"\n"),p.qZA()}if(2&n){const n=p.MAs(1),t=p.oxw();p.Q6J("appApiAction",t.formPromise)("formGroup",t.exportForm),p.xp6(4),p.Oqu(p.lcZ(5,12,"exportVault")),p.xp6(3),p.Q6J("ngIf",t.disabledByPolicy),p.xp6(2),p.Q6J("ngIf",!t.disabledByPolicy),p.xp6(2),p.Q6J("ngIf",p.lcZ(12,14,t.flexibleCollectionsEnabled$)),p.xp6(6),p.Oqu(p.lcZ(18,16,"fileFormat")),p.xp6(5),p.Q6J("ngForOf",t.formatOptions),p.xp6(4),p.Q6J("ngIf","encrypted_json"===t.format),p.xp6(2),p.Q6J("loading",n.loading)("disabled",t.disabledByPolicy),p.xp6(1),p.hij("\n    ",p.lcZ(30,18,"confirmFormat"),"\n  ")}}class $ extends c.Y{constructor(n,t,o,i,e,r,a,u,l,c,p,s,d){super(n,t,o,i,r,a,u,l,c,p,s,d),this.route=e}get disabledByPolicy(){return!1}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return B(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>B(this,void 0,void 0,(function*(){this.organizationId=n.organizationId})))),yield n.ngOnInit.call(this)}))}getExportData(){return this.isFileEncryptedExport?this.exportService.getPasswordProtectedExport(this.filePassword,this.organizationId):this.exportService.getOrganizationExport(this.organizationId,this.format)}getFileName(){return super.getFileName("org")}collectEvent(){return B(this,void 0,void 0,(function*(){yield this.eventCollectionService.collect(u.tw.Organization_ClientExportedVault,null,null,this.organizationId)}))}}$.ɵfac=function(n){return new(n||$)(p.Y36(s.D),p.Y36(d.P),p.Y36(l.qX),p.Y36(g.j),p.Y36(e.gz),p.Y36(f.d),p.Y36(b.$),p.Y36(_.i),p.Y36(Z.QS),p.Y36(x._),p.Y36(m.x),p.Y36(a.Mn),p.Y36(U.i))},$.ɵcmp=p.Xpm({type:$,selectors:[["app-org-export"]],features:[p.qOj],decls:2,vars:1,consts:[[3,"appApiAction","formGroup","ngSubmit",4,"ngIf"],[3,"appApiAction","formGroup","ngSubmit"],["form",""],["bitTypography","h1"],["type","danger",3,"title",4,"ngIf"],[3,"organizationId",4,"ngIf"],[4,"ngIf"],["formControlName","format"],[3,"value","label",4,"ngFor","ngForOf"],["bitButton","","type","submit","buttonType","primary",3,"loading","disabled"],["type","danger",3,"title"],[3,"organizationId"],["formControlName","vaultSelector"],["value","myVault","icon","bwi-user",3,"label"],["icon","bwi-business",3,"value","label",4,"ngFor","ngForOf"],["icon","bwi-business",3,"value","label"],[3,"value","label"],["formControlName","fileEncryptionType","aria-label","exportTypeHeading"],["id","AccountEncrypted","name","fileEncryptionType","checked","fileEncryptionType === encryptedExportType.AccountEncrypted",1,"tw-block",3,"value"],["id","FileEncrypted","name","fileEncryptionType","checked","fileEncryptionType === encryptedExportType.FileEncrypted",1,"tw-block",3,"value"],[1,"tw-mb-3"],["bitInput","","type","password","id","filePassword","formControlName","filePassword","name","password"],["type","button","bitSuffix","","bitIconButton","","bitPasswordInputToggle","",3,"toggled","toggledChange"],[3,"password","showText"],["bitInput","","type","password","id","confirmFilePassword","formControlName","confirmFilePassword","name","confirmFilePassword"]],template:function(n,t){1&n&&(p.YNc(0,H,32,20,"form",0),p._uU(1,"\n")),2&n&&p.Q6J("ngIf",t.exportForm)},dependencies:[y.sg,y.O5,Z._Y,Z.Fj,Z.JJ,Z.JL,Z.sg,Z.u,w.b,A.N,h.Z,T.r,q.O,v.d,E.G,I.w,O.e,F.u,P.M,J.Q,Q._,Y.w,C.H,N.x,L.t,y.Ov,z.C],encapsulation:2});const K=[{path:"",component:$,canActivate:[r.G],data:{titleId:"exportVault",organizationPermissions:n=>n.canAccessImportExport}}];class R{}R.ɵfac=function(n){return new(n||R)},R.ɵmod=p.oAB({type:R}),R.ɵinj=p.cJS({imports:[e.Bz.forChild(K)]});class X{}X.ɵfac=function(n){return new(n||X)},X.ɵmod=p.oAB({type:X}),X.ɵinj=p.cJS({imports:[i.m,i.f,R]})}}]);
//# sourceMappingURL=74.555133792ea8b7f58415.js.map