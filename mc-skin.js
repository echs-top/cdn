(function(){'use strict';const h=document.querySelector('#godo-container');if(!h)return;const s=h.attachShadow({mode:'open'}),m=()=>(window.CONFIG_skin_url),z=typeof CONFIG!=='undefined'&&CONFIG.no_man==='true';s.innerHTML=`<style>:host{position:fixed;bottom:20px;right:20px;width:130px;height:200px;z-index:999999;pointer-events:none}.Scene{position:absolute;inset:0;perspective:1000px}.Godo-wrap{position:absolute;left:50%;top:50%;margin:-160px 0 0 -160px;transform-style:preserve-3d;will-change:transform;transition:transform .2s ease-out}.Godo{position:absolute;height:320px;width:320px;transform-style:preserve-3d;transition:transform .1s ease-out}.Godo div{position:absolute;transform-style:preserve-3d;image-rendering:pixelated;background-repeat:no-repeat;background-size:640px 640px}.u-bg{background-image:var(--man-img)!important}.Head{height:80px;width:80px;left:120px;top:0;transform-origin:bottom center;animation:HA 1.2s infinite ease-in-out}.Head div{width:80px;height:80px}.Head-top{background-position:-80px 0;transform:rotateX(90deg) translateZ(40px)}.Head-bottom{background-position:-160px 0;transform:rotateX(-90deg) translateZ(40px)}.Head-front{background-position:-80px -80px;transform:translateZ(40px)}.Head-back{background-position:-240px -80px;transform:rotateY(180deg) translateZ(40px)}.Head-left{background-position:0 -80px;transform:rotateY(-90deg) translateZ(40px)}.Head-right{background-position:-160px -80px;transform:rotateY(90deg) translateZ(40px)}.Torso{height:120px;width:80px;left:120px;top:80px}.Torso div{width:80px;height:120px}.Torso-top{background-position:-200px -160px;height:40px!important;transform:rotateX(90deg) translateZ(20px)}.Torso-bottom{background-position:-280px -160px;height:40px!important;transform:rotateX(-90deg) translateZ(100px)}.Torso-front{background-position:-200px -200px;transform:translateZ(20px)}.Torso-back{background-position:-320px -200px;transform:rotateY(180deg) translateZ(20px)}.Torso-left{background-position:-160px -200px;width:40px!important;transform:rotateY(-90deg) translateZ(20px)}.Torso-right{background-position:-280px -200px;width:40px!important;transform:rotateY(90deg) translateZ(60px)}.LeftArm,.RightArm,.LeftLeg,.RightLeg{position:absolute;width:40px;height:120px;top:80px;transform-origin:top center}.LeftArm{left:80px}.RightArm{left:200px}.Legs{position:absolute;width:80px;height:120px;top:200px;left:120px;transform-style:preserve-3d}.LeftLeg{left:0;top:0}.RightLeg{left:40px;top:0}.Arm-div,.Leg-div{width:40px;height:120px}.RightArm-top{background-position:-440px -160px;height:40px!important;transform:rotateX(90deg) translateZ(20px)}@keyframes HA{0%,100%{transform:rotateY(5deg)}50%{transform:rotateY(-5deg)}}</style>`;setTimeout(()=>{const g=(p,isArm=false)=>['top','front','left','right','back','bottom'].map(side=>`<div class="${p}-${side} u-bg ${isArm?'Arm-div':'Leg-div'}"></div>`).join('');s.innerHTML+=`<div class="Scene"><div class="Godo-wrap" id="gs"><div class="Godo" id="go"><div class="Head" id="hd">${g('Head')}</div><div class="Torso">${g('Torso')}</div><div class="LeftArm" id="la">${g('LeftArm',true)}</div><div class="RightArm" id="ra">${g('RightArm',true)}</div><div class="Legs" id="lg"><div class="LeftLeg" id="ll">${g('LeftLeg')}</div><div class="RightLeg" id="rl">${g('RightLeg')}</div></div></div></div></div>`;const o=s.querySelector('#go'),hd=s.querySelector('#hd'),la=s.querySelector('#la'),ra=s.querySelector('#ra'),ll=s.querySelector('#ll'),rl=s.querySelector('#rl'),gs=s.querySelector('#gs');const u=()=>{const n=m();if(n)s.host.style.setProperty('--man-img',`url("${n}")`)};u();o.style.transform="rotateY(-25deg)";let afk=false,afkTo,actTo,baseRot=-25;const resetAfk=()=>{clearTimeout(afkTo);if(afk){[la,ra,ll,rl].forEach(e=>e.style.transform='none');afk=false}afkTo=setTimeout(()=>{afk=true},300000)};const setAnim=(part,rot)=>{part.style.transition="transform 0.2s";part.style.transform=rot};window.onmousemove=(e)=>{resetAfk();const rect=s.host.getBoundingClientRect();const dx=e.clientX-(rect.left+65),dy=e.clientY-(rect.top+40);hd.style.transform=`rotateY(${Math.max(-45,Math.min(45,dx/5))}deg) rotateX(${Math.max(-30,Math.min(30,-dy/5))}deg)`};window.onmousedown=()=>{resetAfk();setAnim(ra,"rotateX(-90deg)");setTimeout(()=>setAnim(ra,"none"),200)};window.onkeydown=()=>{resetAfk();setAnim(la,"rotateX(-30deg)");setAnim(ra,"rotateX(-30deg)");clearTimeout(actTo);actTo=setTimeout(()=>{setAnim(la,"none");setAnim(ra,"none")},200)};window.onwheel=()=>{resetAfk();setAnim(ra,"rotateX(-45deg)");clearTimeout(actTo);actTo=setTimeout(()=>setAnim(ra,"none"),300)};setInterval(()=>{if(afk){const t=Date.now()/500;ll.style.transform=`rotateX(${Math.sin(t)*20}deg)`;rl.style.transform=`rotateX(${Math.sin(t+Math.PI)*20}deg)`;la.style.transform=`rotateX(${Math.sin(t+Math.PI)*20}deg)`;ra.style.transform=`rotateX(${Math.sin(t)*20}deg)`}},16);resetAfk()},100)})();
