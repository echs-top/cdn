{"version":3,"file":"static/js/7889.c089ea83.chunk.js","mappings":"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","sources":["pages/Users/Personal/components/UserInfo/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo, useEffect, useState } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport classnames from 'classnames';\n\nimport { Avatar, Icon, SvgIcon } from '@/components';\nimport type { UserInfoRes } from '@/common/interface';\nimport { getUcBranding, UcBrandingEntry } from '@/services';\nimport { userCenterStore } from '@/stores';\n\ninterface Props {\n  data: UserInfoRes;\n}\n\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'personal' });\n  const { agent: ucAgent } = userCenterStore();\n  const [ucBranding, setUcBranding] = useState<UcBrandingEntry[]>([]);\n\n  const initData = () => {\n    if (ucAgent?.enabled && data?.username) {\n      getUcBranding(data.username).then((resp) => {\n        if (resp.enabled && Array.isArray(resp.personal_branding)) {\n          setUcBranding(resp.personal_branding);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    initData();\n  }, [data?.username]);\n  if (!data?.username) {\n    return null;\n  }\n  return (\n    <div className=\"d-flex flex-column flex-md-row mb-4\">\n      {data?.status !== 'deleted' ? (\n        <Link to={`/users/${data.username}`} reloadDocument>\n          <Avatar\n            avatar={data.avatar}\n            size=\"160px\"\n            searchStr=\"s=256\"\n            alt={data.display_name}\n          />\n        </Link>\n      ) : (\n        <Avatar\n          avatar={data.avatar}\n          size=\"160px\"\n          searchStr=\"s=256\"\n          alt={data.display_name}\n        />\n      )}\n\n      <div className=\"ms-0 ms-md-4 mt-4 mt-md-0\">\n        <div className=\"d-flex align-items-center mb-2\">\n          {data?.status !== 'deleted' ? (\n            <Link\n              to={`/users/${data.username}`}\n              className=\"link-dark h3 mb-0\"\n              reloadDocument>\n              {data.display_name}\n            </Link>\n          ) : (\n            <span className=\"link-dark h3 mb-0\">{data.display_name}</span>\n          )}\n          {data?.role_id === 2 && (\n            <div className=\"ms-2\">\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>{t('mod_long')}</Tooltip>}>\n                <span className=\"badge text-bg-light\">{t('mod_short')}</span>\n              </OverlayTrigger>\n            </div>\n          )}\n        </div>\n        <div className=\"text-secondary mb-4\">@{data.username}</div>\n\n        <div className=\"d-flex flex-wrap mb-3\">\n          <div className=\"me-3\">\n            <strong className=\"fs-5\">{data.rank || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_reputation')}</span>\n          </div>\n          <div className=\"me-3\">\n            <strong className=\"fs-5\">{data.answer_count || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_answers')}</span>\n          </div>\n          <div>\n            <strong className=\"fs-5\">{data?.question_count || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_questions')}</span>\n          </div>\n        </div>\n\n        <div className=\"d-flex text-secondary\">\n          {!ucAgent?.enabled ? (\n            <>\n              {data.location && (\n                <div className=\"d-flex align-items-center me-3\">\n                  <Icon name=\"geo-alt-fill\" className=\"me-2\" />\n                  <span>{data.location}</span>\n                </div>\n              )}\n              {data.website && (\n                <div className=\"d-flex align-items-center\">\n                  <Icon name=\"house-door-fill\" className=\"me-2\" />\n                  <a\n                    className=\"link-secondary\"\n                    href={\n                      data.website?.startsWith('http')\n                        ? data.website\n                        : `http://${data.website}`\n                    }>\n                    {\n                      data?.website\n                        .replace(/(http|https):\\/\\//, '')\n                        .split('/')?.[0]\n                    }\n                  </a>\n                </div>\n              )}\n            </>\n          ) : null}\n          {ucBranding.map((b, i, a) => {\n            if (!b.label) {\n              return null;\n            }\n            return (\n              <div\n                key={b.name}\n                className={classnames('d-flex', 'align-items-center', {\n                  'me-3': i < a.length - 1,\n                })}>\n                {b.icon ? (\n                  <SvgIcon base64={b.icon} svgClassName=\"me-2\" />\n                ) : null}\n                {b.url ? (\n                  <a className=\"link-secondary\" href={b.url}>\n                    {b.label}\n                  </a>\n                ) : (\n                  <span>{b.label}</span>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Index);\n"],"names":["Index","data","_data$website","_data$website$replace","t","useTranslation","keyPrefix","agent","ucAgent","userCenterStore","ucBranding","setUcBranding","useState","useEffect","enabled","username","getUcBranding","then","resp","Array","isArray","personal_branding","_jsxs","className","children","status","_jsx","Link","to","reloadDocument","Avatar","avatar","size","searchStr","alt","display_name","role_id","OverlayTrigger","placement","overlay","Tooltip","rank","answer_count","question_count","_Fragment","location","Icon","name","website","href","startsWith","replace","split","map","b","i","a","label","classnames","length","icon","SvgIcon","base64","svgClassName","url","memo"],"sourceRoot":""}