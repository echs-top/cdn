"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[5851],{95851:(e,t,l)=>{l.r(t),l.d(t,{default:()=>p});var o=l(12162),i=l(98496),a=l(45558),r=l(10428),s=l(28093),n=l(93090),c=l(59304),u=l(3176),m=l(91374),v=l(49450);const p=()=>{var e,t,l,p;const{t:d}=(0,i.B)("translation",{keyPrefix:"admin.themes"}),h=(0,s.dj)(),[_,y]=(0,o.useState)(),b={title:d("page_title"),properties:{themes:{type:"string",title:d("themes.label"),description:d("themes.text"),enum:null===_||void 0===_||null===(e=_.theme_options)||void 0===e?void 0:e.map((e=>e.value)),enumNames:null===_||void 0===_||null===(t=_.theme_options)||void 0===t?void 0:t.map((e=>e.label)),default:null===_||void 0===_||null===(l=_.theme_options)||void 0===l||null===(p=l[0])||void 0===p?void 0:p.value},color_scheme:{type:"string",title:d("color_scheme.label"),enum:["system","light","dark"],enumNames:[d("system_setting",{keyPrefix:"btns"}),d("light",{keyPrefix:"btns"}),d("dark",{keyPrefix:"btns"})],default:null===_||void 0===_?void 0:_.color_scheme},navbar_style:{type:"string",title:d("navbar_style.label"),default:m.mC},primary_color:{type:"string",title:d("primary_color.label"),description:d("primary_color.text"),default:m.mC}}},f={themes:{"ui:widget":"select"},color_scheme:{"ui:widget":"select"},navbar_style:{"ui:widget":"input_group","ui:options":{inputType:"color",suffixBtnOptions:{text:"",variant:"outline-secondary",iconName:"arrow-counterclockwise",actionType:"click",title:d("reset",{keyPrefix:"btns"}),clickCallback:()=>w()}}},primary_color:{"ui:widget":"input_group","ui:options":{inputType:"color",suffixBtnOptions:{text:"",variant:"outline-secondary",iconName:"arrow-counterclockwise",actionType:"click",title:d("reset",{keyPrefix:"btns"}),clickCallback:()=>C()}}}},[g,k]=(0,o.useState)((0,r.pw)(b)),{update:x}=(0,c.P2)((e=>e)),w=()=>{const e={...g};e.navbar_style.value=m.mC,k({...e})},C=()=>{const e={...g};e.primary_color.value=m.mC,k({...e})};(0,o.useEffect)((()=>{(0,a.AB)().then((e=>{if(e){y(e);const t=e.theme,l=e.theme_config[t],o={...g};o.themes.value=t,o.navbar_style.value=null!==l&&void 0!==l&&l.navbar_style.startsWith("#")?null===l||void 0===l?void 0:l.navbar_style:m.mC,o.primary_color.value=null===l||void 0===l?void 0:l.primary_color,g.color_scheme.value=(null===e||void 0===e?void 0:e.color_scheme)||"system",k({...o})}}))}),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h3",{className:"mb-4",children:d("page_title")}),(0,v.jsx)(r.q,{schema:b,formData:g,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const t=g.themes.value,l={theme:t,color_scheme:g.color_scheme.value,theme_config:{[t]:{navbar_style:g.navbar_style.value,primary_color:g.primary_color.value}}};(0,a.Hb)(l).then((()=>{h.onShow({msg:d("update",{keyPrefix:"toast"}),variant:"success"}),x(l),(0,u.setupAppTheme)()})).catch((e=>{if(e.isError){const t=(0,n.NC)(e,g);k({...t});const l=document.getElementById(e.list[0].error_field);(0,n.qt)(l)}}))},uiSchema:f,onChange:e=>{k(e);const t=null===_||void 0===_?void 0:_.theme_config[e.themes.value];t&&(t.navbar_style=e.navbar_style.value,t.primary_color=e.primary_color.value,y({..._,theme:null===_||void 0===_?void 0:_.theme,theme_config:null===_||void 0===_?void 0:_.theme_config}))}})]})}}}]);
//# sourceMappingURL=5851.2362b793.chunk.js.map