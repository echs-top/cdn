{"version":3,"file":"static/js/1740.a754ff84.chunk.js","mappings":"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","sources":["pages/Timeline/components/Item/index.tsx","pages/Timeline/index.tsx","../node_modules/.pnpm/react-bootstrap@2.10.6_@types+react@18.3.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-bootstrap/esm/Row.js","../node_modules/.pnpm/react-bootstrap@2.10.6_@types+react@18.3.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-bootstrap/esm/Table.js","webpack://answer-static/./src/pages/Timeline/index.scss?2f5f"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, useState } from 'react';\nimport { Button, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { Icon, BaseUserCard, DiffContent, FormatTime } from '@/components';\nimport { TIMELINE_NORMAL_ACTIVITY_TYPE } from '@/common/constants';\nimport * as Type from '@/common/interface';\nimport { getTimelineDetail } from '@/services';\n\ninterface Props {\n  data: Type.TimelineItem;\n  objectInfo: Type.TimelineObject;\n  isAdmin: boolean;\n  revisionList: Type.TimelineItem[];\n}\nconst Index: FC<Props> = ({ data, isAdmin, objectInfo, revisionList }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'timeline' });\n  const [isOpen, setIsOpen] = useState(false);\n  const [detailData, setDetailData] = useState({\n    new_revision: {},\n    old_revision: {},\n  });\n\n  const handleItemClick = async (id) => {\n    if (!isOpen) {\n      const revisionItem = revisionList?.find((v) => v.revision_id === id);\n      let oldId;\n      if (revisionList?.length > 0 && revisionItem) {\n        const idIndex = revisionList.indexOf(revisionItem) || 0;\n        if (idIndex === revisionList.length - 1) {\n          oldId = 0;\n        } else {\n          oldId = revisionList[idIndex + 1].revision_id;\n        }\n      }\n      const res = await getTimelineDetail({\n        new_revision_id: id,\n        old_revision_id: oldId,\n      });\n      setDetailData(res);\n    }\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      <tr>\n        <td>\n          <FormatTime time={data.created_at} />\n          <br />\n          {data.cancelled_at > 0 && <FormatTime time={data.cancelled_at} />}\n        </td>\n        <td className=\"text-nowrap\">\n          {(data.activity_type === 'rollback' ||\n            data.activity_type === 'edited' ||\n            data.activity_type === 'asked' ||\n            data.activity_type === 'created' ||\n            (objectInfo.object_type === 'answer' &&\n              data.activity_type === 'answered')) && (\n            <Button\n              onClick={() => handleItemClick(data.revision_id)}\n              variant=\"link\"\n              className=\"text-body p-0 btn-no-border\">\n              <Icon\n                name=\"caret-right-fill\"\n                className={`me-1 ${isOpen ? 'rotate-90-deg' : 'rotate-0-deg'}`}\n              />\n              {t(data.activity_type)}\n            </Button>\n          )}\n          {data.activity_type === 'accept' && (\n            <Link\n              to={`/questions/${objectInfo.question_id}/${data?.object_id}`}>\n              {t(data.activity_type)}\n            </Link>\n          )}\n\n          {objectInfo.object_type === 'question' &&\n            data.activity_type === 'answered' && (\n              <Link\n                to={`/questions/${objectInfo.question_id}/${data.object_id}`}>\n                {t(data.activity_type)}\n              </Link>\n            )}\n\n          {data.activity_type === 'commented' && (\n            <Link\n              to={\n                objectInfo.object_type === 'answer'\n                  ? `/questions/${objectInfo.question_id}/${objectInfo.answer_id}?commentId=${data.object_id}`\n                  : `/questions/${objectInfo.question_id}?commentId=${data.object_id}`\n              }>\n              {t(data.activity_type)}\n            </Link>\n          )}\n\n          {TIMELINE_NORMAL_ACTIVITY_TYPE.includes(data.activity_type) && (\n            <div>{t(data.activity_type)}</div>\n          )}\n\n          {data.cancelled && (\n            <div className=\"text-danger\">{t('cancelled')}</div>\n          )}\n        </td>\n        <td>\n          {data.activity_type === 'downvote' && !isAdmin ? (\n            <div>{t('n_or_a')}</div>\n          ) : (\n            <BaseUserCard\n              className=\"fs-normal\"\n              data={data?.user_info}\n              showAvatar={false}\n              showReputation={false}\n            />\n          )}\n        </td>\n        <td>\n          <div dangerouslySetInnerHTML={{ __html: data.comment }} />\n        </td>\n      </tr>\n      <tr className={isOpen ? '' : 'd-none'}>\n        <td colSpan={5} className=\"p-0 py-5\">\n          <Row className=\"justify-content-center\">\n            <Col xxl={8}>\n              <DiffContent\n                objectType={objectInfo.object_type}\n                newData={detailData?.new_revision}\n                oldData={detailData?.old_revision}\n              />\n            </Col>\n          </Row>\n        </td>\n      </tr>\n    </>\n  );\n};\n\nexport default Index;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, useState, useEffect } from 'react';\nimport { Form, Table } from 'react-bootstrap';\nimport { Link, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { usePageTags } from '@/hooks';\nimport { pathFactory } from '@/router/pathFactory';\nimport { loggedUserInfoStore } from '@/stores';\nimport { getTimelineData } from '@/services';\nimport { Empty } from '@/components';\nimport * as Type from '@/common/interface';\n\nimport HistoryItem from './components/Item';\n\nimport './index.scss';\n\nconst Index: FC = () => {\n  const { t } = useTranslation('translation', { keyPrefix: 'timeline' });\n  const { qid = '', aid = '', tid = '' } = useParams();\n  const { role_id } = loggedUserInfoStore((state) => state.user);\n  const [showVotes, setShowVotes] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [timelineData, setTimelineData] = useState<Type.TimelineRes>();\n\n  const getPageData = (bol: boolean) => {\n    setLoading(true);\n    getTimelineData({\n      object_id: tid || aid || qid,\n      show_vote: bol,\n    })\n      .then((res) => {\n        setTimelineData(res);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const handleSwitch = (bol: boolean) => {\n    setShowVotes(bol);\n    getPageData(bol);\n  };\n\n  useEffect(() => {\n    getPageData(false);\n  }, []);\n\n  let linkUrl = '';\n  let pageTitle = '';\n  if (timelineData?.object_info.object_type === 'question') {\n    linkUrl = pathFactory.questionLanding(\n      timelineData?.object_info.question_id,\n      timelineData?.object_info.url_title,\n    );\n    pageTitle = `${t('title_for_question')} ${timelineData?.object_info.title}`;\n  }\n\n  if (timelineData?.object_info.object_type === 'answer') {\n    linkUrl = pathFactory.answerLanding({\n      questionId: timelineData?.object_info.question_id,\n      slugTitle: timelineData?.object_info.url_title,\n      answerId: timelineData?.object_info.answer_id,\n    });\n    pageTitle = `${t('title_for_answer', {\n      title: timelineData?.object_info.title,\n      author: timelineData?.object_info.display_name,\n    })}`;\n  }\n\n  if (timelineData?.object_info.object_type === 'tag') {\n    linkUrl = `/tags/${\n      timelineData?.object_info.main_tag_slug_name\n        ? encodeURIComponent(timelineData?.object_info.main_tag_slug_name)\n        : encodeURIComponent(timelineData?.object_info.title)\n    }`;\n    pageTitle = `${t('title_for_tag')} '${timelineData?.object_info.title}'`;\n  }\n\n  const revisionList =\n    timelineData?.timeline?.filter((item) => item.revision_id > 0) || [];\n  usePageTags({\n    title: pageTitle,\n  });\n  return (\n    <div className=\"py-4 mb-5\">\n      <h5 className=\"mb-4\">\n        {timelineData?.object_info.object_type === 'tag'\n          ? t('tag_title')\n          : t('title')}{' '}\n        <Link to={linkUrl}>{timelineData?.object_info?.title}</Link>\n      </h5>\n      {timelineData?.object_info.object_type !== 'tag' && (\n        <Form.Check\n          className=\"mb-4\"\n          type=\"switch\"\n          id=\"custom-switch\"\n          label={t('show_votes')}\n          checked={showVotes}\n          onChange={(e) => handleSwitch(e.target.checked)}\n        />\n      )}\n      <Table hover responsive=\"md\">\n        <thead>\n          <tr>\n            <th style={{ width: '20%' }}>{t('datetime')}</th>\n            <th style={{ width: '15%' }}>{t('type')}</th>\n            <th style={{ width: '19%' }}>{t('by')}</th>\n            <th className=\"min-w-15\">{t('comment')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {timelineData?.timeline?.map((item) => {\n            return (\n              <HistoryItem\n                data={item}\n                objectInfo={timelineData?.object_info}\n                key={item.activity_id}\n                isAdmin={role_id === 2}\n                revisionList={revisionList}\n              />\n            );\n          })}\n        </tbody>\n      </Table>\n      {!isLoading && Number(timelineData?.timeline?.length) <= 0 && (\n        <Empty>{t('no_data')}</Empty>\n      )}\n    </div>\n  );\n};\n\nexport default Index;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n    const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Table = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  striped,\n  bordered,\n  borderless,\n  hover,\n  size,\n  variant,\n  responsive,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  const classes = classNames(className, decoratedBsPrefix, variant && `${decoratedBsPrefix}-${variant}`, size && `${decoratedBsPrefix}-${size}`, striped && `${decoratedBsPrefix}-${typeof striped === 'string' ? `striped-${striped}` : 'striped'}`, bordered && `${decoratedBsPrefix}-bordered`, borderless && `${decoratedBsPrefix}-borderless`, hover && `${decoratedBsPrefix}-hover`);\n  const table = /*#__PURE__*/_jsx(\"table\", {\n    ...props,\n    className: classes,\n    ref: ref\n  });\n  if (responsive) {\n    let responsiveClass = `${decoratedBsPrefix}-responsive`;\n    if (typeof responsive === 'string') {\n      responsiveClass = `${responsiveClass}-${responsive}`;\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: responsiveClass,\n      children: table\n    });\n  }\n  return table;\n});\nexport default Table;","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Index","data","isAdmin","objectInfo","revisionList","t","useTranslation","keyPrefix","isOpen","setIsOpen","useState","detailData","setDetailData","new_revision","old_revision","_jsxs","_Fragment","children","_jsx","FormatTime","time","created_at","cancelled_at","className","activity_type","object_type","Button","onClick","async","revisionItem","find","v","revision_id","id","oldId","length","idIndex","indexOf","res","getTimelineDetail","new_revision_id","old_revision_id","handleItemClick","variant","Icon","name","Link","to","question_id","object_id","answer_id","TIMELINE_NORMAL_ACTIVITY_TYPE","includes","cancelled","BaseUserCard","user_info","showAvatar","showReputation","dangerouslySetInnerHTML","__html","comment","colSpan","Row","Col","xxl","DiffContent","objectType","newData","oldData","_timelineData$timelin","_timelineData$object_","_timelineData$timelin2","_timelineData$timelin3","qid","aid","tid","useParams","role_id","loggedUserInfoStore","state","user","showVotes","setShowVotes","isLoading","setLoading","timelineData","setTimelineData","getPageData","bol","getTimelineData","show_vote","then","finally","useEffect","linkUrl","pageTitle","object_info","pathFactory","questionLanding","url_title","title","answerLanding","questionId","slugTitle","answerId","author","display_name","main_tag_slug_name","encodeURIComponent","timeline","filter","item","usePageTags","Form","Check","type","label","checked","onChange","e","handleSwitch","target","Table","hover","responsive","style","width","map","HistoryItem","activity_id","Number","Empty","React","bsPrefix","as","Component","props","ref","decoratedBsPrefix","useBootstrapPrefix","breakpoints","useBootstrapBreakpoints","minBreakpoint","useBootstrapMinBreakpoint","sizePrefix","classes","forEach","brkPoint","propValue","cols","infix","push","classNames","displayName","striped","bordered","borderless","size","table","responsiveClass"],"sourceRoot":""}