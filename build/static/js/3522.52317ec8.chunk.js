"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[12,1562,3522,3696,7664],{20012:(e,n,s)=>{s.r(n),s.d(n,{default:()=>x});var t=s(80815),a=s(85940),i=s(98496),o=s(59660),c=s.n(o),l=s(20893),r=s.n(l),d=s(10428),u=s(59304),m=(s(91562),s(49450));const x=({data:e,handleReadNotification:n})=>{const{user:s}=(0,u.bb)(),{t:o}=(0,i.B)("translation",{keyPrefix:"notifications"});return e?r()(e)?(0,m.jsx)(d.Sv,{}):(0,m.jsx)(t.A,{className:"achievement-wrap rounded-0",children:e.map((e=>{var i;const{comment:l,question:r,answer:d}=(null===e||void 0===e||null===(i=e.object_info)||void 0===i?void 0:i.object_map)||{};let u="";switch(e.object_info.object_type){case"question":u=`/questions/${e.object_info.object_id}`;break;case"answer":u=`/questions/${r}/${e.object_info.object_id}`;break;case"comment":u=`/questions/${r}/${d}?commentId=${l}`;break;case"badge_award":u=`/badges/${e.object_info.object_map.badge_id}?username=${s.username}`;break;default:u=""}return(0,m.jsxs)(t.A.Item,{className:c()("d-flex border-start-0 border-end-0 py-3",!e.is_read&&"warning"),children:["badge_award"===e.object_info.object_type?(0,m.jsx)("div",{className:"icon text-end",children:"\ud83d\udc4f"}):(0,m.jsxs)(m.Fragment,{children:[e.rank>0&&(0,m.jsx)("div",{className:"text-success num text-end",children:`+${e.rank}`}),0===e.rank&&(0,m.jsx)("div",{className:"num text-end",children:e.rank}),e.rank<0&&(0,m.jsx)("div",{className:"text-danger num text-end",children:`${e.rank}`})]}),(0,m.jsxs)("div",{className:"d-flex flex-column ms-3 flex-fill",children:[(0,m.jsx)(a.N_,{to:u,onClick:()=>n(e.id),children:e.object_info.title}),(0,m.jsx)("span",{className:"text-secondary small",children:o(e.object_info.object_type)})]})]},e.id)}))}):null}},47664:(e,n,s)=>{s.r(n),s.d(n,{default:()=>m});var t=s(80815),a=s(85940),i=s(98496),o=s(59660),c=s.n(o),l=s(20893),r=s.n(l),d=s(10428),u=s(49450);const m=({data:e,handleReadNotification:n})=>{const{t:s}=(0,i.B)("translation",{keyPrefix:"notifications"});return e?r()(e)?(0,u.jsx)(d.Sv,{}):(0,u.jsx)(t.A,{className:"rounded-0",children:e.map((e=>{var i,o;const{comment:l,question:r,answer:m}=(null===e||void 0===e||null===(i=e.object_info)||void 0===i?void 0:i.object_map)||{};let x="";switch(e.object_info.object_type){case"question":x=`/questions/${e.object_info.object_id}`;break;case"answer":x=`/questions/${r}/${e.object_info.object_id}`;break;case"comment":x=`/questions/${r}/${m}?commentId=${l}`;break;default:x=""}return(0,u.jsxs)(t.A.Item,{className:c()("py-3 border-start-0 border-end-0",!e.is_read&&"warning"),children:[(0,u.jsxs)("div",{children:[e.user_info&&"deleted"!==e.user_info.status?(0,u.jsxs)(a.N_,{to:`/users/${e.user_info.username}`,children:[e.user_info.display_name," "]}):(0,u.jsxs)("span",{children:[(null===(o=e.user_info)||void 0===o?void 0:o.display_name)||s("someone")," "]}),e.notification_action," ",(0,u.jsx)(a.N_,{to:x,onClick:()=>n(e.id),children:e.object_info.title})]}),(0,u.jsx)("div",{className:"text-secondary small",children:(0,u.jsx)(d.H0,{time:e.update_time})})]},e.id)}))}):null}},93522:(e,n,s)=>{s.r(n),s.d(n,{default:()=>v});var t=s(12162),a=s(98128),i=s(8810),o=s(567),c=s(18666),l=s(53381),r=s(98496),d=s(85940),u=s(59660),m=s.n(u),x=s(28093),b=s(45558),f=s(93090),j=s(47664),h=s(20012),_=(s(3696),s(49450));const v=()=>{const[e,n]=(0,t.useState)(1),[s,u]=(0,t.useState)([]),{t:v}=(0,r.B)("translation",{keyPrefix:"notifications"}),p=["all","posts","invites","votes"],{type:k="inbox",subType:N=p[0]}=(0,d.g)(),y={type:k,page:e,page_size:10};"inbox"===k&&(y.inbox_type=N);const{data:$,mutate:g}=(0,b.mq)(y);(0,t.useEffect)((()=>{(0,b.FV)(k)}),[]),(0,t.useEffect)((()=>{$&&u(e>1?[...s,...(null===$||void 0===$?void 0:$.list)||[]]:null===$||void 0===$?void 0:$.list)}),[$]);const w=(0,d.Zp)(),A=(e,s)=>{f.Jg.shouldProcessLinkClick(e)&&(e.preventDefault(),k!==s&&(n(1),u([]),w(`/users/notifications/${s}`)))},q=e=>{(0,b.Sb)(e)};return(0,x.M4)({title:v("notifications",{keyPrefix:"page_title"})}),(0,_.jsxs)(a.A,{className:"pt-4 mb-5",children:[(0,_.jsxs)(i.A,{className:"page-main flex-auto",children:[(0,_.jsx)("h3",{className:"mb-4",children:v("title")}),(0,_.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,_.jsxs)(o.A,{size:"sm",children:[(0,_.jsx)(c.A,{as:"a",href:"/users/notifications/inbox",variant:"outline-secondary",active:"inbox"===k,onClick:e=>A(e,"inbox"),children:v("inbox")}),(0,_.jsx)(c.A,{as:"a",href:"/users/notifications/achievement",variant:"outline-secondary",active:"achievement"===k,onClick:e=>A(e,"achievement"),children:v("achievement")})]}),(0,_.jsx)(c.A,{size:"sm",variant:"outline-secondary",onClick:async()=>{await(0,b.gS)(k),g()},children:v("all_read")})]}),"inbox"===k&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.A,{className:"inbox-nav small",children:p.map((e=>{const s=`/users/notifications/inbox/${e}`,t=v(`inbox_type.${e}`);return(0,_.jsx)(l.A.Item,{children:(0,_.jsx)(d.N_,{to:s,onClick:()=>{n(1)},className:m()("nav-link",{disabled:e===N}),children:t})},e)}))}),(0,_.jsx)(j.default,{data:s,handleReadNotification:q})]}),"achievement"===k&&(0,_.jsx)(h.default,{data:s,handleReadNotification:q}),((null===$||void 0===$?void 0:$.count)||0)>10*e&&(0,_.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,_.jsx)(c.A,{variant:"link",className:"btn-no-border",onClick:()=>{n(e+1)},children:v("show_more")})})]}),(0,_.jsx)(i.A,{className:"page-right-side"})]})}},98128:(e,n,s)=>{s.d(n,{A:()=>r});var t=s(59660),a=s.n(t),i=s(12162),o=s(42700),c=s(49450);const l=i.forwardRef((({bsPrefix:e,className:n,as:s="div",...t},i)=>{const l=(0,o.oU)(e,"row"),r=(0,o.gy)(),d=(0,o.Jm)(),u=`${l}-cols`,m=[];return r.forEach((e=>{const n=t[e];let s;delete t[e],null!=n&&"object"===typeof n?({cols:s}=n):s=n;const a=e!==d?`-${e}`:"";null!=s&&m.push(`${u}${a}-${s}`)})),(0,c.jsx)(s,{ref:i,...t,className:a()(n,l,...m)})}));l.displayName="Row";const r=l},91562:(e,n,s)=>{s.r(n),s.d(n,{default:()=>t});const t={}},3696:(e,n,s)=>{s.r(n),s.d(n,{default:()=>t});const t={}}}]);
//# sourceMappingURL=3522.52317ec8.chunk.js.map