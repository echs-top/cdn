"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3837],{3837:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var l=s(12162),i=s(98128),r=s(8810),n=s(14592),t=s(18666),d=s(84873),o=s(85940),m=s(98496),u=s(59660),c=s.n(u),v=s(28093),p=s(10428),g=s(59304),f=s(45558),y=s(93090),N=s(91374),h=s(49450);const x=()=>{const e={displayName:{value:"",isInvalid:!1,errorMsg:""},slugName:{value:"",isInvalid:!1,errorMsg:""},description:{value:"",isInvalid:!1,errorMsg:""}},{role_id:a=1}=(0,g.bb)((e=>e.user)),s=(0,o.Zp)(),{t:u}=(0,m.B)("translation",{keyPrefix:"tag_modal"}),[x,_]=(0,l.useState)(""),[j,b]=(0,l.useState)(e),[I]=(0,l.useState)(e),[A,M]=(0,l.useState)(!1),C=(0,l.useRef)({getHtml:()=>""});(0,v.XB)({when:A}),(0,l.useEffect)((()=>{const{displayName:e,slugName:a,description:s}=j,{displayName:l,slugName:i,description:r}=I;l&&i&&r&&(l.value!==e.value||i.value!==a.value||r.value!==s.value?M(!0):M(!1))}),[j.displayName.value,j.slugName.value,j.description.value]);return(0,v.M4)({title:u("create_tag",{keyPrefix:"page_title"})}),(0,h.jsxs)("div",{className:"pt-4 mb-5",children:[(0,h.jsx)("h3",{className:"mb-4",children:u("title")}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(r.A,{className:"page-main flex-auto",children:(0,h.jsxs)(n.A,{noValidate:!0,onSubmit:e=>{if(e.preventDefault(),e.stopPropagation(),M(!1),!(()=>{let e=!0,a="";const{displayName:s,slugName:l}=j;if(s.value?s.value.length>N.zw?(e=!1,a="display_name",j.displayName={value:s.value,isInvalid:!0,errorMsg:u("form.fields.display_name.msg.range")}):j.displayName={value:s.value,isInvalid:!1,errorMsg:""}:(e=!1,a="display_name",j.displayName={value:"",isInvalid:!0,errorMsg:u("form.fields.display_name.msg.empty")}),l.value?l.value.length>N.zw?(e=!1,a="slug_name",j.slugName={value:l.value,isInvalid:!0,errorMsg:u("form.fields.slug_name.msg.range")}):j.slugName={value:l.value,isInvalid:!1,errorMsg:""}:(e=!1,a="slug_name",j.slugName={value:"",isInvalid:!0,errorMsg:u("form.fields.slug_name.msg.empty")}),b({...j}),!e){const e=document.getElementById(a);(0,y.qt)(e)}return e})())return;const a={display_name:j.displayName.value,slug_name:j.slugName.value,original_text:j.description.value};(0,f.VZ)(a).then((e=>{s(`/tags/${encodeURIComponent(e.slug_name)}/info`,{replace:!0})})).catch((e=>{if(e.isError){const a=(0,y.NC)(e,j,[{from:"display_name",to:"displayName"},{from:"slug_name",to:"slugName"},{from:"original_text",to:"description"}]);b({...a});const s=document.getElementById(e.list[0].error_field);(0,y.qt)(s)}}))},children:[(0,h.jsxs)(n.A.Group,{controlId:"display_name",className:"mb-3",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.display_name.label")}),(0,h.jsx)(n.A.Control,{type:"text",value:j.displayName.value,isInvalid:j.displayName.isInvalid,disabled:2!==a&&3!==a,onChange:e=>{b({...j,displayName:{...j.displayName,value:e.currentTarget.value,isInvalid:!1}})}}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.displayName.errorMsg})]}),(0,h.jsxs)(n.A.Group,{controlId:"slug_name",className:"mb-3",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.slug_name.label")}),(0,h.jsx)(n.A.Control,{type:"text",value:j.slugName.value,isInvalid:j.slugName.isInvalid,disabled:2!==a&&3!==a,onChange:e=>{b({...j,slugName:{...j.slugName,value:e.currentTarget.value,isInvalid:!1}})}}),(0,h.jsx)(n.A.Text,{as:"div",children:u("form.fields.slug_name.desc")}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.slugName.errorMsg})]}),(0,h.jsxs)(n.A.Group,{controlId:"description",className:"mt-4",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.desc.label")}),(0,h.jsx)(p.KE,{value:j.description.value,onChange:e=>b({...j,description:{...j.description,value:e,isInvalid:!1}}),className:c()("form-control p-0","description"===x&&"focus"),onFocus:()=>{_("description")},onBlur:()=>{_("")},ref:C}),(0,h.jsx)(n.A.Control,{value:j.description.value,type:"text",isInvalid:j.description.isInvalid,readOnly:!0,hidden:!0}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.description.errorMsg})]}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)(t.A,{type:"submit",children:u("btn_post")})})]})}),(0,h.jsx)(r.A,{className:"page-right-side mt-4 mt-xl-0",children:(0,h.jsxs)(d.A,{children:[(0,h.jsx)(d.A.Header,{children:u("title",{keyPrefix:"how_to_format"})}),(0,h.jsx)(d.A.Body,{className:"fmt small",dangerouslySetInnerHTML:{__html:u("desc",{keyPrefix:"how_to_format"})}})]})})]})]})}},98128:(e,a,s)=>{s.d(a,{A:()=>o});var l=s(59660),i=s.n(l),r=s(12162),n=s(42700),t=s(49450);const d=r.forwardRef((({bsPrefix:e,className:a,as:s="div",...l},r)=>{const d=(0,n.oU)(e,"row"),o=(0,n.gy)(),m=(0,n.Jm)(),u=`${d}-cols`,c=[];return o.forEach((e=>{const a=l[e];let s;delete l[e],null!=a&&"object"===typeof a?({cols:s}=a):s=a;const i=e!==m?`-${e}`:"";null!=s&&c.push(`${u}${i}-${s}`)})),(0,t.jsx)(s,{ref:r,...l,className:i()(a,d,...c)})}));d.displayName="Row";const o=d}}]);
//# sourceMappingURL=3837.17222268.chunk.js.map