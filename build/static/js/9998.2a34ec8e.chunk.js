"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3225,9998],{69998:(e,a,l)=>{l.r(a),l.d(a,{default:()=>o});var s=l(14592),r=l(18666),i=l(98496),n=l(51861),t=l(73225),d=l(49450);const o=({visible:e,data:a,changeCallback:l,nextCallback:o})=>{const{t:c}=(0,i.B)("translation",{keyPrefix:"install"});return e?(0,d.jsxs)(s.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{site_name:s,site_url:r,confirm_password:i,contact_email:t,name:d,password:o,email:m}=a;return s.value||(e=!1,a.site_name={value:"",isInvalid:!0,errorMsg:c("site_name.msg")}),s.value&&s.value.length>30&&(e=!1,a.site_url={value:s.value,isInvalid:!0,errorMsg:c("site_name.msg_max_length")}),r.value||(e=!1,a.site_url={value:"",isInvalid:!0,errorMsg:c("site_name.msg.empty")}),r.value&&!r.value.match(/^(http|https):\/\//g)?(e=!1,a.site_url={value:r.value,isInvalid:!0,errorMsg:c("site_url.msg.incorrect")}):r.value.length>512&&(e=!1,a.site_url={value:r.value,isInvalid:!0,errorMsg:c("site_url.msg.max_length")}),t.value||(e=!1,a.contact_email={value:"",isInvalid:!0,errorMsg:c("contact_email.msg.empty")}),t.value&&!n.A.email.test(t.value)&&(e=!1,a.contact_email={value:t.value,isInvalid:!0,errorMsg:c("contact_email.msg.incorrect")}),d.value?d.value.length<2||d.value.length>30?(e=!1,a.name={value:d.value,isInvalid:!0,errorMsg:c("admin_name.msg_max_length")}):/^[\w.-\s]{2,30}$/.test(d.value)||(e=!1,a.name={value:d.value,isInvalid:!0,errorMsg:c("admin_name.character")}):(e=!1,a.name={value:"",isInvalid:!0,errorMsg:c("admin_name.msg")}),o.value||(e=!1,a.password={value:"",isInvalid:!0,errorMsg:c("admin_password.msg")}),o.value&&o.value.length<4&&(e=!1,a.password={value:a.password.value,isInvalid:!0,errorMsg:c("admin_password.msg_min_length")}),o.value&&o.value.length>32&&(e=!1,a.password={value:a.password.value,isInvalid:!0,errorMsg:c("admin_password.msg_max_length")}),i.value!==o.value&&(e=!1,a.confirm_password={value:"",isInvalid:!0,errorMsg:c("admin_confirm_password.msg")}),m.value||(e=!1,a.email={value:"",isInvalid:!0,errorMsg:c("admin_email.msg.empty")}),m.value&&!n.A.email.test(m.value)&&(e=!1,a.email={value:m.value,isInvalid:!0,errorMsg:c("admin_email.msg.incorrect")}),l({...a}),e})()&&o()},children:[(0,d.jsx)("h5",{children:c("site_information")}),(0,d.jsxs)(s.A.Group,{controlId:"site_name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("site_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.site_name.value,isInvalid:a.site_name.isInvalid,onChange:e=>{l({site_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.site_name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"site_url",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("site_url.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.site_url.value,isInvalid:a.site_url.isInvalid,onChange:e=>{l({site_url:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("site_url.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.site_url.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"contact_email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("contact_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"email",value:a.contact_email.value,isInvalid:a.contact_email.isInvalid,onChange:e=>{l({contact_email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("contact_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.contact_email.errorMsg})]}),(0,d.jsx)("h5",{children:c("login_required.label")}),(0,d.jsxs)(s.A.Group,{controlId:"login_required",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("login_required.label")}),(0,d.jsx)(s.A.Check,{type:"switch",id:"login_required",label:c("login_required.switch"),checked:a.login_required.value,onChange:e=>{l({login_required:{value:e.target.checked,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("login_required.text")})]}),(0,d.jsxs)(s.A.Group,{controlId:"external_content_display",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("external_content_display.label",{keyPrefix:"admin.legal"})}),(0,d.jsxs)(s.A.Select,{value:a.external_content_display.value,onChange:e=>{l({external_content_display:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:[(0,d.jsx)("option",{value:"always_display",children:c("external_content_display.always_display",{keyPrefix:"admin.legal"})}),(0,d.jsx)("option",{value:"ask_before_display",children:c("external_content_display.ask_before_display",{keyPrefix:"admin.legal"})})]}),(0,d.jsx)(s.A.Text,{children:c("external_content_display.text",{keyPrefix:"admin.legal"})})]}),(0,d.jsx)("h5",{children:c("admin_account")}),(0,d.jsxs)(s.A.Group,{controlId:"name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.name.value,isInvalid:a.name.isInvalid,onChange:e=>{l({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"password",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_password.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"password",value:a.password.value,isInvalid:a.password.isInvalid,onChange:e=>{l({password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("admin_password.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.password.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"confirm_password",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_confirm_password.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"password",value:a.confirm_password.value,isInvalid:a.confirm_password.isInvalid,onChange:e=>{l({confirm_password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("admin_confirm_password.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.confirm_password.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.email.value,isInvalid:a.email.isInvalid,onChange:e=>{l({email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("admin_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.email.errorMsg})]}),(0,d.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,d.jsx)(t.default,{step:4}),(0,d.jsx)(r.A,{type:"submit",children:c("next")})]})]}):null}},73225:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var s=l(12162),r=l(59660),i=l.n(r),n=l(42700),t=l(66087),d=l(49450);function o(e,a,l){const s=(e-a)/(l-a)*100;return Math.round(1e3*s)/1e3}function c({min:e,now:a,max:l,label:s,visuallyHidden:r,striped:n,animated:t,className:c,style:m,variant:u,bsPrefix:v,..._},x){return(0,d.jsx)("div",{ref:x,..._,role:"progressbar",className:i()(c,`${v}-bar`,{[`bg-${u}`]:u,[`${v}-bar-animated`]:t,[`${v}-bar-striped`]:t||n}),style:{width:`${o(a,e,l)}%`,...m},"aria-valuenow":a,"aria-valuemin":e,"aria-valuemax":l,children:r?(0,d.jsx)("span",{className:"visually-hidden",children:s}):s})}const m=s.forwardRef((({isChild:e=!1,...a},l)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...a};if(r.bsPrefix=(0,n.oU)(r.bsPrefix,"progress"),e)return c(r,l);const{min:o,now:m,max:u,label:v,visuallyHidden:_,striped:x,animated:g,bsPrefix:h,variant:p,className:b,children:j,...I}=r;return(0,d.jsx)("div",{ref:l,...I,className:i()(b,h),children:j?(0,t.Tj)(j,(e=>(0,s.cloneElement)(e,{isChild:!0}))):c({min:o,now:m,max:u,label:v,visuallyHidden:_,striped:x,animated:g,bsPrefix:h,variant:p},l)})}));m.displayName="ProgressBar";const u=m,v=({step:e})=>(0,d.jsxs)("div",{className:"d-flex align-items-center small text-secondary",children:[(0,d.jsx)(u,{now:e/5*100,variant:"success",style:{width:"200px"},className:"me-2"}),(0,d.jsxs)("span",{children:[e,"/5"]})]}),_=(0,s.memo)(v)}}]);
//# sourceMappingURL=9998.2a34ec8e.chunk.js.map