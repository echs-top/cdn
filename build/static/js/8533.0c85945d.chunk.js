"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[8533,8872],{48872:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var s=l(12162),n=l(14592),t=l(18666),i=l(85940),r=l(98496),o=l(28446),c=l(32563),d=l(45558),v=l(44047),u=l(93090),m=l(67629);var g=l(49450);const p=({callback:e})=>{const{t:a}=(0,r.B)("translation",{keyPrefix:"login"}),[l,p]=(0,s.useState)({name:{value:"",isInvalid:!1,errorMsg:""},e_mail:{value:"",isInvalid:!1,errorMsg:""},pass:{value:"",isInvalid:!1,errorMsg:""}}),h=(0,v.A)((e=>e.update)),x=(0,c.T5)("email"),_=/^[\w.-\s]{2,30}$/,y=e=>{p({...l,...e})},f=(()=>{const{data:e}=(0,m.N)(),{data:a}=(0,m.f)();return(0,s.useCallback)(((l,s)=>{l.stopPropagation();const n="tos"===s?null===e||void 0===e?void 0:e.terms_of_service_original_text:null===a||void 0===a?void 0:a.privacy_policy_original_text;let t;try{n&&(t=new URL(n))}catch(i){}t&&(l.preventDefault(),window.open(t.toString()))}),[e,a])})(),j=a=>{a&&a.preventDefault();const s={name:l.name.value,e_mail:l.e_mail.value,pass:l.pass.value},n=null===x||void 0===x?void 0:x.getCaptcha();null!==n&&void 0!==n&&n.verify&&(s.captcha_code=n.captcha_code,s.captcha_id=n.captcha_id),(0,d.kz)(s).then((async a=>{await(null===x||void 0===x?void 0:x.close()),h(a),e()})).catch((e=>{if(e.isError){null===x||void 0===x||x.handleCaptchaError(e.list);const a=(0,u.NC)(e,l);p({...a});const s=document.getElementById(e.list[0].error_field);(0,u.qt)(s)}}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(n.A,{noValidate:!0,onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{name:s,e_mail:n,pass:t}=l;if(s.value?s.value.length<2||s.value.length>30?(e=!1,l.name={value:s.value,isInvalid:!0,errorMsg:a("name.msg.range")}):_.test(s.value)||(e=!1,l.name={value:s.value,isInvalid:!0,errorMsg:a("name.msg.character")}):(e=!1,l.name={value:"",isInvalid:!0,errorMsg:a("name.msg.empty")}),n.value||(e=!1,l.e_mail={value:"",isInvalid:!0,errorMsg:a("email.msg.empty")}),t.value||(e=!1,l.pass={value:"",isInvalid:!0,errorMsg:a("password.msg.empty")}),p({...l}),!e){const e=Object.keys(l).filter((e=>l[e].isInvalid)),a=document.getElementById(e[0]);(0,u.qt)(a)}return e})()&&(x?x.check((()=>{j()})):j())},autoComplete:"off",children:[(0,g.jsxs)(n.A.Group,{controlId:"name",className:"mb-3",children:[(0,g.jsx)(n.A.Label,{children:a("name.label")}),(0,g.jsx)(n.A.Control,{autoComplete:"off",required:!0,type:"text",isInvalid:l.name.isInvalid,value:l.name.value,onChange:e=>y({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:l.name.errorMsg})]}),(0,g.jsxs)(n.A.Group,{controlId:"email",className:"mb-3",children:[(0,g.jsx)(n.A.Label,{children:a("email.label")}),(0,g.jsx)(n.A.Control,{autoComplete:"off",required:!0,type:"e_mail",isInvalid:l.e_mail.isInvalid,value:l.e_mail.value,onChange:e=>y({e_mail:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:l.e_mail.errorMsg})]}),(0,g.jsxs)(n.A.Group,{controlId:"password",className:"mb-3",children:[(0,g.jsx)(n.A.Label,{children:a("password.label")}),(0,g.jsx)(n.A.Control,{autoComplete:"off",required:!0,type:"password",isInvalid:l.pass.isInvalid,value:l.pass.value,onChange:e=>y({pass:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:l.pass.errorMsg})]}),(0,g.jsx)("div",{className:"d-grid",children:(0,g.jsx)(t.A,{variant:"primary",type:"submit",children:a("signup",{keyPrefix:"btns"})})})]}),(0,g.jsx)("div",{className:"text-center small mt-3",children:(0,g.jsxs)(o.x,{i18nKey:"login.agreements",ns:"translation",children:["By registering, you agree to the",(0,g.jsx)(i.N_,{to:"/privacy",onClick:e=>{f(e,"privacy")},target:"_blank",children:"privacy policy"}),"and",(0,g.jsx)(i.N_,{to:"/tos",onClick:e=>{f(e,"tos")},target:"_blank",children:"terms of service"}),"."]})})]})},h=s.memo(p)},88533:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var s=l(12162),n=l(5423),t=l(8810),i=l(98496),r=l(28446),o=l(85940),c=l(28093),d=l(10428),v=l(93090),u=l(59304),m=l(30874),g=l(48872),p=l(49450);const h=()=>{const[e,a]=(0,s.useState)(!0),{t:l}=(0,i.B)("translation",{keyPrefix:"login"}),h=(0,u.vu)((e=>e.login));if((0,c.M4)({title:l("sign_up",{keyPrefix:"page_title"})}),!v.ah.singUpAgent().ok)return null;const x=(null===h||void 0===h?void 0:h.allow_new_registrations)&&h.allow_email_registrations;return(0,p.jsxs)(n.A,{style:{paddingTop:"4rem",paddingBottom:"5rem"},children:[(0,p.jsx)(d.vU,{}),e?(0,p.jsxs)(t.A,{className:"mx-auto",md:6,lg:4,xl:3,children:[(0,p.jsx)(d.Y8,{type:m.Q.Connector,slug_name:"third_party_connector",className:"mb-5"}),x?(0,p.jsx)(g.default,{callback:()=>{a((e=>!e))}}):null,(0,p.jsx)("div",{className:"text-center mt-5",children:(0,p.jsxs)(r.x,{i18nKey:"login.info_login",ns:"translation",children:["Already have an account? ",(0,p.jsx)(o.N_,{to:"/users/login",children:"Log in"})]})})]}):(0,p.jsx)(d.RP,{visible:!e})]})},x=s.memo(h)},5423:(e,a,l)=>{l.d(a,{A:()=>c});var s=l(59660),n=l.n(s),t=l(12162),i=l(42700),r=l(49450);const o=t.forwardRef((({bsPrefix:e,fluid:a=!1,as:l="div",className:s,...t},o)=>{const c=(0,i.oU)(e,"container"),d="string"===typeof a?`-${a}`:"-fluid";return(0,r.jsx)(l,{ref:o,...t,className:n()(s,a?`${c}${d}`:c)})}));o.displayName="Container";const c=o}}]);
//# sourceMappingURL=8533.0c85945d.chunk.js.map