"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[545,886,2172,5664,6430,8198,8364,8680,8931],{92172:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var i=t(12162),l=t(68442),a=t(98496),n=t(71115),d=t.n(n),o=t(49450);const r=({data:e})=>{const{t:s}=(0,a.B)();return(0,o.jsx)(l.A,{className:"mb-4",variant:e.level,children:"info"===e.level?(0,o.jsxs)("div",{children:[e.msg.startsWith("http")?(0,o.jsxs)("p",{children:[e.description," ",(0,o.jsx)("a",{href:e.msg,className:"alert-exist",children:(0,o.jsx)("strong",{children:s("question_detail.show_exist")})})]}):(0,o.jsx)("p",{children:e.msg?e.msg:e.description}),(0,o.jsxs)("div",{className:"small",children:[s("question_detail.closed_in")," ",(0,o.jsx)("time",{dateTime:d().unix(e.time).tz().toISOString(),title:d().unix(e.time).tz().format(s("dates.long_date_with_time")),children:d().unix(e.time).tz().format(s("dates.long_date_with_year"))}),"."]})]}):e.msg})},c=(0,i.memo)(r)},78680:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var i=t(12162),l=t(68442),a=t(37759),n=t(18666),d=t(98496),o=t(85940),r=t(10428),c=t(93090),m=t(45558),u=t(32563),x=t(49450);const h=({aid:e,data:s,isLogged:t,questionTitle:h="",callback:v,canAccept:p=!1})=>{var j,f,_,g;const{t:w}=(0,d.B)("translation",{keyPrefix:"question_detail"}),[N]=(0,o.ok)(),b=(0,i.useRef)(null);(0,u.e9)(null===(j=b.current)||void 0===j?void 0:j.querySelector(".fmt"));return(0,i.useEffect)((()=>{null!==b&&void 0!==b&&b.current&&(0,r._A)(b.current.querySelector(".fmt"),{copySuccessText:w("copied",{keyPrefix:"messages"}),copyText:w("copy",{keyPrefix:"messages"})})}),[b.current]),(0,i.useEffect)((()=>{e===s.id&&setTimeout((()=>{const e=b.current;(0,c.qt)(e),N.get("commentId")||(0,c.gj)(b.current)}),100)}),[s.id]),null!==s&&void 0!==s&&s.id?(0,x.jsxs)("div",{id:s.id,ref:b,className:"answer-item py-4",children:[10===s.status&&(0,x.jsx)(l.A,{variant:"danger",className:"mb-4",children:w("post_deleted",{keyPrefix:"messages"})}),11===s.status&&(0,x.jsx)(l.A,{variant:"secondary",className:"mb-4",children:w("post_pending",{keyPrefix:"messages"})}),2===(null===s||void 0===s?void 0:s.accepted)&&(0,x.jsx)("div",{className:"mb-3 lh-1",children:(0,x.jsxs)(a.A,{bg:"success",pill:!0,children:[(0,x.jsx)(r.In,{name:"check-circle-fill me-1"}),"Best answer"]})}),(0,x.jsx)(r.EQ,{children:(0,x.jsx)("article",{className:"fmt text-break text-wrap",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.html}})}),(0,x.jsxs)("div",{className:"d-flex align-items-center mt-4",children:[(0,x.jsx)(r.En,{source:"answer",data:{id:null===s||void 0===s?void 0:s.id,isHate:"vote_down"===(null===s||void 0===s?void 0:s.vote_status),isLike:"vote_up"===(null===s||void 0===s?void 0:s.vote_status),votesCount:null===s||void 0===s?void 0:s.vote_count,hideCollect:!0,collected:null===s||void 0===s?void 0:s.collected,collectCount:0,username:null===s||void 0===s||null===(f=s.user_info)||void 0===f?void 0:f.username}}),p&&(0,x.jsxs)(n.A,{variant:2===s.accepted?"success":"outline-success",className:"ms-3",onClick:()=>{(0,m.EL)({question_id:s.question_id,answer_id:2===s.accepted?"0":s.id}).then((()=>{null===v||void 0===v||v("")}))},children:[(0,x.jsx)(r.In,{name:"check-circle-fill",className:"me-2"}),(0,x.jsx)("span",{children:2===s.accepted?w("answers.btn_accepted"):w("answers.btn_accept")})]})]}),(0,x.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,x.jsx)("div",{className:"mb-3 mb-md-0 me-4 flex-grow-1",children:(0,x.jsx)(r.lR,{qid:s.question_id,aid:s.id,memberActions:null===s||void 0===s?void 0:s.member_actions,type:"answer",isAccepted:2===s.accepted,title:h,callback:v})}),(0,x.jsx)("div",{className:"mb-3 mb-md-0 me-4",style:{minWidth:"196px"},children:s.update_user_info&&(null===(_=s.update_user_info)||void 0===_?void 0:_.username)!==(null===(g=s.user_info)||void 0===g?void 0:g.username)?(0,x.jsx)(r.qu,{data:null===s||void 0===s?void 0:s.update_user_info,time:Number(s.update_time),preFix:w("edit"),isLogged:t,timelinePath:`/posts/${s.question_id}/${s.id}/timeline`}):t?(0,x.jsx)(o.N_,{to:`/posts/${s.question_id}/${s.id}/timeline`,children:(0,x.jsx)(r.H0,{time:Number(s.update_time),preFix:w("edit"),className:"link-secondary small"})}):(0,x.jsx)(r.H0,{time:Number(s.update_time),preFix:w("edit"),className:"text-secondary small"})}),(0,x.jsx)("div",{style:{minWidth:"196px"},children:(0,x.jsx)(r.qu,{data:null===s||void 0===s?void 0:s.user_info,time:Number(s.create_time),preFix:w("answered"),isLogged:t,timelinePath:`/posts/${s.question_id}/${s.id}/timeline`})})]}),(0,x.jsx)(r.Mw,{objectId:s.id,mode:"answer",commentId:N.get("commentId")})]}):null},v=(0,i.memo)(h)},6430:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var i=t(12162),l=t(98496),a=t(10428),n=t(49450);const d=[{name:"score",sort:"default"},{name:"newest",sort:"updated"},{name:"oldest",sort:"created"}],o=({count:e=0,order:s="default"})=>{const{t:t}=(0,l.B)("translation",{keyPrefix:"question_detail.answers"});return(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-5 mb-3",id:"answerHeader",children:[(0,n.jsxs)("h5",{className:"mb-0",children:[e," ",t("title")]}),(0,n.jsx)(a.gu,{data:d,currentSort:"updated"===s?"newest":"created"===s?"oldest":"score",i18nKeyPrefix:"question_detail.answers"})]})},r=(0,i.memo)(o)},85664:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var i=t(12162),l=t(49450);const a=()=>(0,l.jsxs)("div",{className:"placeholder-glow",children:[(0,l.jsx)("div",{className:"placeholder w-100 h1 mb-3",style:{height:"34px"}}),(0,l.jsx)("div",{className:"placeholder w-75 mb-3",style:{height:"21px"}}),(0,l.jsx)("div",{className:"placeholder w-50 d-block align-top mb-4",style:{height:"24px"}}),(0,l.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-75 d-block align-top",style:{height:"24px"}})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-100 d-block align-top mb-1",style:{height:"24px"}}),(0,l.jsx)("span",{className:"placeholder w-50 d-block align-top",style:{height:"24px"}})]})]}),(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)("div",{className:"placeholder align-top me-3 rounded",style:{height:"38px",width:"120px"}}),(0,l.jsx)("div",{className:"placeholder align-top rounded",style:{height:"38px",width:"68px"}})]}),(0,l.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,l.jsx)("div",{className:"placeholder mb-3 mb-md-0 me-4",style:{height:"21px",width:"40%"}}),(0,l.jsx)("div",{style:{minWidth:"196px",height:"24px"},className:"placeholder mb-3 me-4 mb-md-0 d-block d-md-none"}),(0,l.jsx)("div",{style:{minWidth:"196px",height:"24px"},className:"placeholder d-block d-md-none"}),(0,l.jsx)("div",{style:{minWidth:"196px",height:"40px"},className:"placeholder mb-3 me-4 mb-md-0 d-none d-md-block"}),(0,l.jsx)("div",{style:{minWidth:"196px",height:"40px"},className:"placeholder d-none d-md-block"})]}),[0,1,2].map(((e,s)=>(0,l.jsxs)("div",{className:"border-bottom py-2 "+(0===s?"border-top":""),children:[(0,l.jsx)("div",{className:"placeholder w-100 mb-1",style:{height:"17px"}}),(0,l.jsx)("div",{className:"placeholder w-50",style:{height:"17px"}})]},e))),(0,l.jsxs)("div",{className:"d-flex mt-2 mb-4",children:[(0,l.jsx)("div",{className:"placeholder align-top me-4",style:{height:"21px",width:"140px"}}),(0,l.jsx)("div",{className:"placeholder align-top",style:{height:"21px",width:"140px"}})]})]}),n=(0,i.memo)(a)},2164:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var i=t(12162),l=t(69805),a=t(14592),n=t(98496),d=t(59304),o=t(45558),r=t(10428),c=(t(38474),t(49450));const m=({selectedPeople:e=[],visible:s=!1,onSelect:t,saveInviteUsers:m})=>{const{user:u}=(0,d.bb)(),{t:x}=(0,n.B)("translation",{keyPrefix:"invite_to_answer"}),[h,v]=(0,i.useState)([]),[p,j]=(0,i.useState)(-1),[f,_]=(0,i.useState)(""),g=s=>{s?(0,o.c5)(s).then((s=>{(s=>{const t=[];s.forEach((s=>{u&&1===u.role_id&&u.username===s.username||null!==e&&void 0!==e&&e.find((e=>e.username===s.username))||t.push(s)})),v([...e,...t])})(s)})):v([...e])},w=e=>{if(e<0||e>=h.length)return;const s=h[e];s&&t(s)};return(0,i.useEffect)((()=>{s&&e.length>0&&v(e),s||(j(-1),_(""),v([]))}),[s]),s?(0,c.jsx)(l.A,{autoClose:"outside",show:!0,className:"people-dropdown",onSelect:w,onKeyDown:e=>{if(e.stopPropagation(),null===h||void 0===h||!h.length)return;const{keyCode:s}=e;38===s&&p>0&&j(p-1),40===s&&p<h.length-1&&j(p+1),13===s&&p>-1&&(e.preventDefault(),w(p))},onToggle:e=>{e||m()},children:(0,c.jsxs)(l.A.Menu,{renderOnMount:!0,show:!0,className:"w-100 py-0 position-relative",children:[(0,c.jsx)("div",{className:"p-3",children:(0,c.jsx)(a.A.Control,{type:"search",autoFocus:!0,placeholder:x("search"),value:f,onChange:e=>{const s=e.target.value;_(s),g(s)}})}),(0,c.jsx)("div",{className:""+(h.length>0?"py-2 border-top":""),children:h.map(((s,t)=>(0,c.jsx)(l.A.Item,{eventKey:t,onFocus:()=>{j(t)},active:t===p,children:(0,c.jsxs)(a.A.Check,{type:"checkbox",id:s.username,className:"position-relative",children:[(0,c.jsx)(a.A.Check.Input,{type:"checkbox",tabIndex:-1,checked:Boolean(null===e||void 0===e?void 0:e.find((e=>e.id===s.id))),onChange:()=>{}}),(0,c.jsx)("div",{className:"check-cover"}),(0,c.jsxs)(a.A.Check.Label,{className:"d-flex align-items-center text-nowrap",children:[(0,c.jsx)(r.eu,{avatar:s.avatar,size:"24",alt:s.display_name,className:"rounded-1"}),(0,c.jsxs)("div",{className:"d-flex flex-wrap text-truncate",children:[(0,c.jsx)("span",{className:"ms-2 text-truncate",children:s.display_name}),(0,c.jsxs)("small",{className:"text-secondary text-truncate ms-2",children:["@",s.username]})]})]})]})},s.username)))})]})}):null}},89344:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var i=t(12162),l=t(84873),a=t(18666),n=t(98496),d=t(85940),o=t(59660),r=t.n(o),c=t(10428),m=t(45558),u=t(32563),x=t(2164),h=(t(76824),t(49450));const v=({questionId:e,readOnly:s=!1})=>{const{t:t}=(0,n.B)("translation",{keyPrefix:"invite_to_answer"}),[o,v]=(0,i.useState)(!1),[p,j]=(0,i.useState)([]),f=(0,u.T5)("invitation_answer"),_=()=>{const s=p.map((e=>e.username)),t={};null===f||void 0===f||f.resolveCaptchaReq(t),(0,m.q_)(e,s,t).then((async()=>{await(null===f||void 0===f?void 0:f.close()),v(!1)})).catch((e=>{e.isError&&(null===f||void 0===f||f.handleCaptchaError(e.list))}))};(0,i.useEffect)((()=>{e&&(0,m.dI)(e).then((e=>{j(e)})).catch((()=>{p||j([])}))}),[e]);return s&&0===(null===p||void 0===p?void 0:p.length)?null:(0,h.jsxs)(l.A,{className:"invite-answer-card position-relative border-0 mb-4",children:[(0,h.jsxs)(l.A.Header,{className:"text-nowrap d-flex justify-content-between text-capitalize",children:[t("title"),!s&&(0,h.jsx)(a.A,{onClick:()=>v(!0),variant:"link",className:"p-0",children:t("edit",{keyPrefix:"btns"})})]}),(0,h.jsx)(l.A.Body,{className:r()("position-relative"),children:(0,h.jsxs)("div",{className:r()("d-flex align-items-center flex-wrap m-n1"),children:[null===p||void 0===p?void 0:p.map((e=>(0,h.jsxs)(d.N_,{to:`/users/${e.username}`,className:"mx-2 my-1 d-inline-flex flex-nowrap",children:[(0,h.jsx)(c.eu,{avatar:e.avatar,size:"24",alt:e.display_name,className:"rounded-1"}),(0,h.jsx)("small",{className:"ms-2",children:e.display_name})]},e.username))),0===(null===p||void 0===p?void 0:p.length)?(0,h.jsx)("div",{className:"text-muted",children:t("desc")}):null]})}),o&&(0,h.jsx)(x.default,{visible:o,selectedPeople:p,onSelect:e=>{const s=null===p||void 0===p?void 0:p.find((s=>s.id===e.id));let t=[...p||[]];var i;s?t=null===(i=t)||void 0===i?void 0:i.filter((s=>s.id!==e.id)):t.push(e);j(t)},saveInviteUsers:()=>{p&&(f?f.check((()=>_())):_())}})]})},p=(0,i.memo)(v)},28364:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var i=t(12162),l=t(84873),a=t(80815),n=t(85940),d=t(98496),o=t(7715),r=t(10428),c=t(45558),m=t(91408),u=t(49450);const x=({id:e})=>{var s;const{t:t}=(0,d.B)("translation",{keyPrefix:"linked_question"}),{t:i}=(0,d.B)("translation",{keyPrefix:"related_question"}),{data:x}=(0,c.Oi)({question_id:e,page:1,page_size:5});return!x||(0,o.isEmpty)(null===x||void 0===x?void 0:x.list)?null:(0,u.jsxs)(l.A,{className:"mb-4",children:[(0,u.jsxs)(l.A.Header,{className:"text-nowrap d-flex justify-content-between text-capitalize",children:[t("title"),(0,u.jsx)(n.N_,{to:`/questions/linked/${e}`,className:"btn btn-link p-0",children:t("more",{keyPrefix:"btns"})})]}),(0,u.jsx)(a.A,{variant:"flush",children:null===(s=x.list)||void 0===s?void 0:s.map((e=>(0,u.jsxs)(a.A.Item,{action:!0,as:n.N_,to:m.w.questionLanding(e.id,e.url_title),children:[(0,u.jsx)("div",{className:"link-dark text-truncate-3",children:e.title}),e.answer_count>0&&(0,u.jsxs)("div",{className:"mt-1 small me-2 "+(e.accepted_answer_id>0?"link-success":"link-secondary"),children:[(0,u.jsx)(r.In,{name:e.accepted_answer_id>0?"check-circle-fill":"chat-square-text-fill",className:"me-1"}),(0,u.jsxs)("span",{children:[e.answer_count," ",i("answers")]})]})]},e.id)))})]})},h=(0,i.memo)(x)},40886:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var i=t(12162),l=t(85940),a=t(98496),n=t(5522),d=t(13463),o=t(18666),r=t(10428),c=t(32563),m=t(93090),u=t(45558),x=t(91408),h=t(49450);const v=({data:e,initPage:s,hasAnswer:t,isLogged:v})=>{var p,j,f,_;const{t:g}=(0,a.B)("translation",{keyPrefix:"question_detail"}),[w]=(0,l.ok)(),[N,b]=(0,i.useState)(null===e||void 0===e?void 0:e.is_followed),y=(0,i.useRef)(null);(0,c.e9)(y.current);return(0,i.useEffect)((()=>{e&&b(null===e||void 0===e?void 0:e.is_followed)}),[e]),(0,i.useEffect)((()=>{y.current&&(0,r._A)(y.current,{copySuccessText:g("copied",{keyPrefix:"messages"}),copyText:g("copy",{keyPrefix:"messages"})})}),[y.current]),null!==e&&void 0!==e&&e.id?(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"h3 mb-3 text-wrap text-break",children:(0,h.jsxs)(l.N_,{className:"link-dark",reloadDocument:!0,to:x.w.questionLanding(e.id,e.url_title),children:[e.title,2===e.status?` [${g("closed",{keyPrefix:"question"})}]`:""]})}),(0,h.jsxs)("div",{className:"d-flex flex-wrap align-items-center small mb-3 text-secondary",children:[2===(null===e||void 0===e?void 0:e.pin)&&(0,h.jsxs)("div",{className:"me-3",children:[(0,h.jsx)(r.In,{name:"pin-fill",className:"me-1",title:g("pinned",{keyPrefix:"btns"})}),(0,h.jsx)("span",{children:g("pinned",{keyPrefix:"btns"})})]}),(0,h.jsx)(r.H0,{time:e.create_time,preFix:g("Asked"),className:"me-3"}),(0,h.jsx)(r.H0,{time:e.update_time,preFix:g("update"),className:"me-3"}),(null===e||void 0===e?void 0:e.view_count)>0&&(0,h.jsxs)("div",{className:"me-3",children:[g("Views")," ",(0,m.B4)(e.view_count)]}),(0,h.jsx)(n.A,{placement:"bottom",overlay:(0,h.jsx)(d.A,{id:"followTooltip",children:g("follow_tip")}),children:(0,h.jsx)(o.A,{variant:"link",size:"sm",className:"p-0 btn-no-border",onClick:s=>(s=>{s.preventDefault(),m.ah.tryNormalLogged(!0)&&(0,u.CQ)({object_id:null===e||void 0===e?void 0:e.id,is_cancel:N}).then((e=>{b(e.is_followed)}))})(s),children:g(N?"Following":"Follow")})})]}),(0,h.jsx)("div",{className:"m-n1",children:null===e||void 0===e||null===(p=e.tags)||void 0===p?void 0:p.map((e=>(0,h.jsx)(r.vw,{className:"m-1",data:e},e.slug_name)))}),(0,h.jsx)(r.EQ,{children:(0,h.jsx)("article",{ref:y,className:"fmt text-break text-wrap mt-4",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.html}})}),(0,h.jsx)(r.En,{className:"mt-4",source:"question",data:{id:null===e||void 0===e?void 0:e.id,isHate:"vote_down"===(null===e||void 0===e?void 0:e.vote_status),isLike:"vote_up"===(null===e||void 0===e?void 0:e.vote_status),votesCount:null===e||void 0===e?void 0:e.vote_count,collected:null===e||void 0===e?void 0:e.collected,collectCount:null===e||void 0===e?void 0:e.collection_count,username:null===(j=e.user_info)||void 0===j?void 0:j.username}}),(0,h.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,h.jsx)("div",{className:"mb-3 mb-md-0 me-4 flex-grow-1",children:(0,h.jsx)(r.lR,{qid:null===e||void 0===e?void 0:e.id,type:"question",memberActions:null===e||void 0===e?void 0:e.member_actions,title:e.title,hasAnswer:t,isAccepted:Boolean(null===e||void 0===e?void 0:e.accepted_answer_id),callback:s})}),(0,h.jsx)("div",{style:{minWidth:"196px"},className:"mb-3 me-4 mb-md-0",children:e.update_user_info&&(null===(f=e.update_user_info)||void 0===f?void 0:f.username)!==(null===(_=e.user_info)||void 0===_?void 0:_.username)?(0,h.jsx)(r.qu,{data:null===e||void 0===e?void 0:e.update_user_info,time:e.edit_time,preFix:g("edit"),isLogged:v,timelinePath:`/posts/${e.id}/timeline`}):v?(0,h.jsx)(l.N_,{to:`/posts/${e.id}/timeline`,children:(0,h.jsx)(r.H0,{time:e.edit_time,preFix:g("edit"),className:"link-secondary small"})}):(0,h.jsx)(r.H0,{time:e.edit_time,preFix:g("edit"),className:"text-secondary small"})}),(0,h.jsx)("div",{style:{minWidth:"196px"},children:(0,h.jsx)(r.qu,{data:null===e||void 0===e?void 0:e.user_info,time:e.create_time,preFix:g("asked"),isLogged:v,timelinePath:`/posts/${e.id}/timeline`})})]}),(0,h.jsx)(r.Mw,{objectId:null===e||void 0===e?void 0:e.id,mode:"question",commentId:w.get("commentId")})]}):null},p=(0,i.memo)(v)},8198:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var i=t(12162),l=t(84873),a=t(80815),n=t(85940),d=t(98496),o=t(10428),r=t(45558),c=t(91408),m=t(49450);const u=({id:e})=>{var s;const{t:t}=(0,d.B)("translation",{keyPrefix:"related_question"}),{data:i,isLoading:u}=(0,r.r5)({question_id:e,page_size:5});return u?null:(0,m.jsxs)(l.A,{children:[(0,m.jsx)(l.A.Header,{children:t("title")}),(0,m.jsx)(a.A,{variant:"flush",children:null===i||void 0===i||null===(s=i.list)||void 0===s?void 0:s.map((e=>(0,m.jsxs)(a.A.Item,{action:!0,as:n.N_,to:c.w.questionLanding(e.id,e.url_title),children:[(0,m.jsx)("div",{className:"link-dark text-truncate-3",children:e.title}),e.answer_count>0&&(0,m.jsxs)("div",{className:"mt-1 small me-2 "+(e.accepted_answer_id>0?"link-success":"link-secondary"),children:[(0,m.jsx)(o.In,{name:e.accepted_answer_id>0?"check-circle-fill":"chat-square-text-fill",className:"me-1"}),(0,m.jsxs)("span",{children:[e.answer_count," ",t("answers")]})]})]},e.id)))})]})},x=(0,i.memo)(u)},30545:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var i=t(12162),l=t(14592),a=t(68442),n=t(18666),d=t(98496),o=t(28446),r=t(85940),c=t(51780),m=t(59660),u=t.n(m),x=t(28093),h=t(32563),v=t(10428),p=t(45558),j=t(93090),f=t(91374),_=t(59304),g=t(49450);const w=new j.ZT({type:"answer"}),N=({visible:e=!1,data:s,callback:t})=>{const{t:m}=(0,d.B)("translation",{keyPrefix:"question_detail.write_answer"}),[N,b]=(0,i.useState)({content:{value:"",isInvalid:!1,errorMsg:""}}),[y,k]=(0,i.useState)(e),[A,q]=(0,i.useState)(""),[I,C]=(0,i.useState)(!1),[P,L]=(0,i.useState)(!1),[S,E]=(0,i.useState)(s.loggedUserRank<100),F=(0,h.T5)("answer"),T=(0,_.j7)((e=>e.write)),[B,H]=(0,i.useState)(!1);(0,x.XB)({when:Boolean(N.content.value)});const $=()=>{w.save.cancel(),w.remove(),L(!1)};(0,i.useEffect)((()=>{const e=j.KP.get(f.tQ);(null===e||void 0===e?void 0:e.questionId)===s.qid&&null!==e&&void 0!==e&&e.content&&(k(!0),b({content:{value:e.content,isInvalid:!1,errorMsg:""}}),L(!0)),setTimeout((()=>{H(!0)}),100)}),[]),(0,i.useEffect)((()=>{const e=j.KP.get(f.tQ),{content:t}=N;t.value?(w.save({questionId:null===s||void 0===s?void 0:s.qid,content:t.value}),L(!0)):(null===e||void 0===e?void 0:e.questionId)!==s.qid||t.value||$()}),[N.content.value]);const M=()=>{const e={question_id:null===s||void 0===s?void 0:s.qid,content:N.content.value,html:c.xI.parse(N.content.value)},i=null===F||void 0===F?void 0:F.getCaptcha();null!==i&&void 0!==i&&i.verify&&(e.captcha_code=i.captcha_code,e.captcha_id=i.captcha_id),(0,p.V_)(e).then((async e=>{await(null===F||void 0===F?void 0:F.close()),k(!1),b({content:{value:"",isInvalid:!1,errorMsg:""}}),$(),null===t||void 0===t||t(e.info)})).catch((e=>{if(e.isError){null===F||void 0===F||F.handleCaptchaError(e.list);const s=(0,j.NC)(e,N);b({...s})}}))},R=()=>{j.ah.tryNormalLogged(!0)&&(()=>{let e=!0;const{content:s}=N;return!s.value||Array.from(s.value.trim()).length<6?(e=!1,N.content={value:s.value,isInvalid:!0,errorMsg:m("characters")}):N.content={value:s.value,isInvalid:!1,errorMsg:""},b({...N}),e})()&&(F?F.check((()=>M())):M())},z=()=>{j.ah.tryNormalLogged(!0)&&(null===s||void 0===s||!s.answered||y?y?R():k(!0):v.aF.confirm({title:m("confirm_title"),content:m("confirm_info"),confirmText:m("continue"),onConfirm:()=>{k(!0)}}))};return(0,g.jsxs)(l.A,{noValidate:!0,className:"mt-4",children:[(!s.answered||y)&&(0,g.jsxs)(l.A.Group,{className:"mb-3",children:[(0,g.jsx)(l.A.Label,{children:(0,g.jsx)("h5",{children:m("title")})}),(0,g.jsx)(l.A.Control,{isInvalid:N.content.isInvalid,className:"d-none"}),!y&&!s.answered&&(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsx)(v.fs,{className:"w-100",rows:8,autoFocus:!1,onFocus:e=>{j.ah.tryNormalLogged(!0)?(q("answer"),k(!0),C(!0)):e.currentTarget.blur()}})}),y&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.KE,{className:u()("form-control p-0","answer"===A&&"focus",N.content.isInvalid&&"is-invalid"),value:N.content.value,autoFocus:I,onChange:e=>{B&&b({content:{value:e,isInvalid:!1,errorMsg:""}})},onFocus:()=>{q("answer")},onBlur:()=>{q("")}}),(0,g.jsxs)(a.A,{variant:"warning",show:s.loggedUserRank<100&&S,onClose:()=>E(!1),dismissible:!0,className:"mt-3",children:[(0,g.jsx)("p",{children:m("tips.header_1")}),(0,g.jsxs)("ul",{children:[(0,g.jsx)("li",{children:(0,g.jsx)(o.x,{i18nKey:"question_detail.write_answer.tips.li1_1",components:{strong:(0,g.jsx)("strong",{})}})}),(0,g.jsx)("li",{children:m("tips.li1_2")})]}),(0,g.jsx)("p",{children:(0,g.jsx)(o.x,{i18nKey:"question_detail.write_answer.tips.header_2",components:{strong:(0,g.jsx)("strong",{})}})}),(0,g.jsx)("ul",{className:"mb-0",children:(0,g.jsx)("li",{children:m("tips.li2_1")})})]})]}),(0,g.jsx)(l.A.Control.Feedback,{type:"invalid",children:N.content.errorMsg})]}),s.answered&&!y?(0,g.jsx)(r.N_,{to:`/posts/${s.qid}/${s.first_answer_id}/edit`,className:"btn btn-primary",children:m("edit_answer")}):(0,g.jsx)(n.A,{onClick:z,children:m("btn_name")}),s.answered&&!y&&!T.restrict_answer&&(0,g.jsx)(n.A,{onClick:z,className:"ms-2 ",variant:"outline-primary",children:m("add_another_answer")}),P&&(0,g.jsx)(n.A,{variant:"link",className:"ms-2",onClick:()=>{window.confirm(m("discard_confirm",{keyPrefix:"draft"}))&&($(),b({content:{value:"",isInvalid:!1,errorMsg:""}}))},children:m("discard_draft",{keyPrefix:"btns"})})]})},b=(0,i.memo)(N)},18931:(e,s,t)=>{t.r(s),t.d(s,{Alert:()=>o.default,Answer:()=>l.default,AnswerHead:()=>a.default,ContentLoader:()=>r.default,InviteToAnswer:()=>c.default,LinkedQuestions:()=>m.default,Question:()=>i.default,RelatedQuestions:()=>n.default,WriteAnswer:()=>d.default});var i=t(40886),l=t(78680),a=t(6430),n=t(8198),d=t(30545),o=t(92172),r=t(85664),c=t(89344),m=t(28364)},68442:(e,s,t)=>{t.d(s,{A:()=>g});var i=t(59660),l=t.n(i),a=t(12162),n=t(18525),d=t(1921),o=t(42700),r=t(46024),c=t(49450);const m=(0,r.A)("h4");m.displayName="DivStyledAsH4";const u=a.forwardRef((({className:e,bsPrefix:s,as:t=m,...i},a)=>(s=(0,o.oU)(s,"alert-heading"),(0,c.jsx)(t,{ref:a,className:l()(e,s),...i}))));u.displayName="AlertHeading";const x=u;var h=t(41055);const v=a.forwardRef((({className:e,bsPrefix:s,as:t=h.A,...i},a)=>(s=(0,o.oU)(s,"alert-link"),(0,c.jsx)(t,{ref:a,className:l()(e,s),...i}))));v.displayName="AlertLink";const p=v;var j=t(70200),f=t(4576);const _=a.forwardRef(((e,s)=>{const{bsPrefix:t,show:i=!0,closeLabel:a="Close alert",closeVariant:r,className:m,children:u,variant:x="primary",onClose:h,dismissible:v,transition:p=j.A,..._}=(0,n.Zw)(e,{show:"onClose"}),g=(0,o.oU)(t,"alert"),w=(0,d.A)((e=>{h&&h(!1,e)})),N=!0===p?j.A:p,b=(0,c.jsxs)("div",{role:"alert",...N?void 0:_,ref:s,className:l()(m,g,x&&`${g}-${x}`,v&&`${g}-dismissible`),children:[v&&(0,c.jsx)(f.A,{onClick:w,"aria-label":a,variant:r}),u]});return N?(0,c.jsx)(N,{unmountOnExit:!0,..._,ref:void 0,in:i,children:b}):i?b:null}));_.displayName="Alert";const g=Object.assign(_,{Link:p,Heading:x})},38474:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});const i={}},76824:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});const i={}}}]);
//# sourceMappingURL=8931.f8787bff.chunk.js.map