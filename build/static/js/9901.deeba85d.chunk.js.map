{"version":3,"file":"static/js/9901.deeba85d.chunk.js","mappings":"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","sources":["pages/Admin/Badges/components/Action/index.tsx","pages/Admin/Badges/index.tsx","../node_modules/.pnpm/react-bootstrap@2.10.6_@types+react@18.3.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-bootstrap/esm/Table.js"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Dropdown } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { Icon } from '@/components';\n\ninterface Props {\n  status: string;\n  onSelect: (eventKey: string | null) => void;\n}\nconst BadgeOperation = ({ onSelect, status }: Props) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'admin.badges' });\n\n  return (\n    <td className=\"text-end\">\n      <Dropdown onSelect={onSelect}>\n        <Dropdown.Toggle variant=\"link\" className=\"no-toggle p-0\">\n          <Icon name=\"three-dots-vertical\" title={t('action')} />\n        </Dropdown.Toggle>\n        <Dropdown.Menu align=\"end\">\n          {status === 'inactive' && (\n            <Dropdown.Item eventKey=\"active\">{t('activate')}</Dropdown.Item>\n          )}\n          {status === 'active' && (\n            <Dropdown.Item eventKey=\"inactive\">{t('deactivate')}</Dropdown.Item>\n          )}\n        </Dropdown.Menu>\n      </Dropdown>\n    </td>\n  );\n};\n\nexport default BadgeOperation;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC } from 'react';\nimport { Form, Table, Stack } from 'react-bootstrap';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport classNames from 'classnames';\n\nimport { Empty, Icon, Pagination, QueryGroup } from '@/components';\nimport * as Type from '@/common/interface';\nimport { useQueryBadges, updateBadgeStatus } from '@/services/admin/badges';\nimport { useToast } from '@/hooks';\n\nimport Action from './components/Action';\n\nconst BadgeFilterKeys: Type.BadgeFilterBy[] = ['all', 'active', 'inactive'];\n\nconst bgMap = {\n  active: 'text-bg-success',\n  inactive: 'text-bg-secondary',\n};\n\nconst PAGE_SIZE = 10;\n\nconst Badges: FC = () => {\n  const { t } = useTranslation('translation', { keyPrefix: 'admin.badges' });\n\n  const [urlSearchParams, setUrlSearchParams] = useSearchParams();\n  const curPage = Number(urlSearchParams.get('page') || '1');\n  const curFilter = urlSearchParams.get('filter') || BadgeFilterKeys[0];\n  const curQuery = urlSearchParams.get('query') || '';\n  const Toast = useToast();\n\n  const { data, isLoading, mutate } = useQueryBadges({\n    page: curPage,\n    page_size: PAGE_SIZE,\n    q: curQuery,\n    ...(curFilter === 'all' ? {} : { status: curFilter }),\n  });\n\n  const handleFilter = (e) => {\n    urlSearchParams.set('query', e.target.value);\n    urlSearchParams.delete('page');\n    setUrlSearchParams(urlSearchParams);\n  };\n\n  const handleBadgeStatus = (badgeId, status) => {\n    updateBadgeStatus({ id: badgeId, status }).then(() => {\n      Toast.onShow({\n        msg:\n          status === 'inactive'\n            ? t('badge_inactivated', { keyPrefix: 'messages' })\n            : t('badge_activated', { keyPrefix: 'messages' }),\n        variant: 'success',\n      });\n      mutate();\n    });\n  };\n\n  return (\n    <>\n      <h3 className=\"mb-4\">{t('title')}</h3>\n      <div className=\"d-flex flex-wrap justify-content-between align-items-center\">\n        <Stack direction=\"horizontal\" gap={3} className=\"mb-3\">\n          <QueryGroup\n            data={BadgeFilterKeys}\n            currentSort={curFilter}\n            sortKey=\"filter\"\n            i18nKeyPrefix=\"admin.badges\"\n          />\n        </Stack>\n\n        <Form.Control\n          size=\"sm\"\n          type=\"search\"\n          value={curQuery}\n          onChange={handleFilter}\n          placeholder={t('filter.placeholder')}\n          style={{ width: '12.25rem' }}\n          className=\"mb-3\"\n        />\n      </div>\n      <Table responsive=\"md\">\n        <thead>\n          <tr>\n            <th className=\"min-w-15\">{t('name')}</th>\n            <th style={{ width: '19%' }}>{t('group')}</th>\n            <th style={{ width: '14%' }}>{t('awards')}</th>\n            <th style={{ width: '12%' }}>{t('status')}</th>\n            <th className=\"text-end\" style={{ width: '9%' }}>\n              {t('action')}\n            </th>\n          </tr>\n        </thead>\n        <tbody className=\"align-middle\">\n          {data?.list?.map((badge) => (\n            <tr key={badge.id}>\n              <td className=\"d-flex align-items-center\">\n                {badge.icon?.startsWith('http') ? (\n                  <img\n                    src={badge.icon}\n                    width={32}\n                    height={32}\n                    alt={badge.name}\n                    className=\"me-3\"\n                  />\n                ) : (\n                  <Icon\n                    name={badge?.icon}\n                    size=\"32px\"\n                    className={classNames(\n                      'lh-1 me-3',\n                      badge?.level === 1 && 'bronze',\n                      badge?.level === 2 && 'silver',\n                      badge?.level === 3 && 'gold',\n                    )}\n                  />\n                )}\n                <div>\n                  <Link to={`/badges/${badge.id}`}>{badge.name}</Link>\n                  <div\n                    className=\"text-body small\"\n                    dangerouslySetInnerHTML={{\n                      __html: badge.description,\n                    }}\n                  />\n                </div>\n              </td>\n\n              <td>{badge.group_name}</td>\n              <td>\n                <Link to={`/badges/${badge.id}`}>{badge.award_count}</Link>\n              </td>\n              <td>\n                <span className={classNames('badge', bgMap[badge.status])}>\n                  {t(badge.status)}\n                </span>\n              </td>\n              <Action\n                status={badge.status}\n                onSelect={(status) => handleBadgeStatus(badge.id, status)}\n              />\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n      {Number(data?.count) <= 0 && !isLoading && <Empty />}\n      <div className=\"mt-4 mb-2 d-flex justify-content-center\">\n        <Pagination\n          currentPage={curPage}\n          totalSize={data?.count || 0}\n          pageSize={PAGE_SIZE}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Badges;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Table = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  striped,\n  bordered,\n  borderless,\n  hover,\n  size,\n  variant,\n  responsive,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  const classes = classNames(className, decoratedBsPrefix, variant && `${decoratedBsPrefix}-${variant}`, size && `${decoratedBsPrefix}-${size}`, striped && `${decoratedBsPrefix}-${typeof striped === 'string' ? `striped-${striped}` : 'striped'}`, bordered && `${decoratedBsPrefix}-bordered`, borderless && `${decoratedBsPrefix}-borderless`, hover && `${decoratedBsPrefix}-hover`);\n  const table = /*#__PURE__*/_jsx(\"table\", {\n    ...props,\n    className: classes,\n    ref: ref\n  });\n  if (responsive) {\n    let responsiveClass = `${decoratedBsPrefix}-responsive`;\n    if (typeof responsive === 'string') {\n      responsiveClass = `${responsiveClass}-${responsive}`;\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: responsiveClass,\n      children: table\n    });\n  }\n  return table;\n});\nexport default Table;"],"names":["BadgeOperation","onSelect","status","t","useTranslation","keyPrefix","_jsx","className","children","_jsxs","Dropdown","Toggle","variant","Icon","name","title","Menu","align","Item","eventKey","BadgeFilterKeys","bgMap","active","inactive","Badges","_data$list","urlSearchParams","setUrlSearchParams","useSearchParams","curPage","Number","get","curFilter","curQuery","Toast","useToast","data","isLoading","mutate","useQueryBadges","page","page_size","q","_Fragment","Stack","direction","gap","QueryGroup","currentSort","sortKey","i18nKeyPrefix","Form","Control","size","type","value","onChange","e","set","target","delete","placeholder","style","width","Table","responsive","list","map","badge","_badge$icon","icon","startsWith","src","height","alt","classNames","level","Link","to","id","dangerouslySetInnerHTML","__html","description","group_name","award_count","Action","handleBadgeStatus","badgeId","updateBadgeStatus","then","onShow","msg","count","Empty","Pagination","currentPage","totalSize","pageSize","React","bsPrefix","striped","bordered","borderless","hover","props","ref","decoratedBsPrefix","useBootstrapPrefix","classes","table","responsiveClass"],"sourceRoot":""}