{"version":3,"file":"static/js/5993.97f6105d.chunk.js","mappings":"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","sources":["pages/Search/components/Empty/index.tsx","pages/Search/components/Head/index.tsx","pages/Search/components/ListLoader/index.tsx","pages/Search/components/SearchHead/index.tsx","pages/Search/components/SearchItem/index.tsx","pages/Search/components/Tips/index.tsx","pages/Search/index.tsx","../node_modules/.pnpm/react-bootstrap@2.10.6_@types+react@18.3.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-bootstrap/esm/Row.js"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Trans } from 'react-i18next';\n\nconst Index: FC = () => {\n  return (\n    <div className=\"mt-5 text-center\">\n      <Trans i18nKey=\"search.empty\">\n        We couldn't find anything.\n        <br />\n        Try different or less specific keywords.\n      </Trans>\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useState } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { following } from '@/services';\nimport { tryNormalLogged } from '@/utils/guard';\nimport { escapeRemove } from '@/utils';\nimport { pathFactory } from '@/router/pathFactory';\nimport { PluginRender } from '@/components';\nimport Pattern from '@/common/pattern';\nimport { PluginType } from '@/utils/pluginKit';\n\ninterface Props {\n  data;\n}\n\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'search' });\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const options = q?.match(Pattern.search);\n  const [followed, setFollowed] = useState(data?.is_follower);\n\n  const follow = () => {\n    if (!tryNormalLogged(true)) {\n      return;\n    }\n    following({\n      object_id: data?.tag_id,\n      is_cancel: followed,\n    }).then((res) => {\n      setFollowed(res.is_followed);\n    });\n  };\n\n  return (\n    <div className=\"mb-5\">\n      <div className=\"mb-3 d-flex align-items-center justify-content-between\">\n        <h3 className=\"mb-0\">{t('title')}</h3>\n\n        <PluginRender type={PluginType.Search} slug_name=\"serarch_info\" />\n      </div>\n      <p>\n        <span className=\"text-secondary me-1\">{t('keywords')}</span>\n        {q?.replace(Pattern.search, '')}\n        <br />\n        {options?.length && (\n          <>\n            <span className=\"text-secondary\">{t('options')} </span>\n            {options?.map((item) => {\n              return <code key={item}>{item} </code>;\n            })}\n          </>\n        )}\n      </p>\n      {data?.slug_name && (\n        <>\n          {data.excerpt && (\n            <p className=\"text-break\">\n              {escapeRemove(data.excerpt)}\n              <Link className=\"ms-1\" to={pathFactory.tagInfo(data.slug_name)}>\n                [{t('more')}]\n              </Link>\n            </p>\n          )}\n\n          <Button variant=\"outline-primary\" onClick={follow}>\n            {followed ? t('following') : t('follow')}\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo } from 'react';\nimport { ListGroupItem } from 'react-bootstrap';\n\ninterface Props {\n  count?: number;\n}\n\nconst Index: FC<Props> = ({ count = 10 }) => {\n  const list = new Array(count).fill(0).map((v, i) => v + i);\n  return (\n    <>\n      {list.map((v) => (\n        <ListGroupItem\n          className=\"py-3 px-0 border-start-0 border-end-0 bg-transparent placeholder-glow\"\n          key={v}>\n          <div className=\"mb-2\">\n            <div\n              className=\"placeholder me-2\"\n              style={{ height: '25px', width: '30px' }}\n            />\n            <div\n              className=\"h5 mb-0 w-75 placeholder\"\n              style={{ height: '25px' }}\n            />\n          </div>\n          <div\n            className=\"placeholder w-50 h5 align-top mb-2\"\n            style={{ height: '21px' }}\n          />\n\n          <div\n            className=\"placeholder w-100 d-block align-top mb-2\"\n            style={{ height: '42px' }}\n          />\n\n          <div\n            className=\"placeholder w-25 align-top\"\n            style={{ height: '24px' }}\n          />\n        </ListGroupItem>\n      ))}\n    </>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { QueryGroup } from '@/components';\n\nconst sortBtns = ['relevance', 'newest', 'active', 'score'];\n\ninterface Props {\n  count: number;\n  sort: string;\n}\nconst Index: FC<Props> = ({ sort, count = 0 }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'search.sort_btns',\n  });\n\n  return (\n    <div className=\"d-flex flex-wrap align-items-center justify-content-between pt-2 pb-3\">\n      <h5 className=\"mb-0\">\n        {count === -1\n          ? t('counts_loading', { keyPrefix: 'search' })\n          : t('counts', { count, keyPrefix: 'search' })}\n      </h5>\n      <QueryGroup\n        data={sortBtns}\n        currentSort={sort}\n        sortKey=\"order\"\n        i18nKeyPrefix=\"search.sort_btns\"\n      />\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { ListGroupItem } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { pathFactory } from '@/router/pathFactory';\nimport {\n  Tag,\n  FormatTime,\n  BaseUserCard,\n  Counts,\n  HighlightText,\n} from '@/components';\nimport Pattern from '@/common/pattern';\nimport type { SearchResItem } from '@/common/interface';\nimport { escapeRemove } from '@/utils';\n\ninterface Props {\n  data: SearchResItem;\n}\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'question' });\n  if (!data?.object_type) {\n    return null;\n  }\n  let itemUrl = pathFactory.questionLanding(\n    data.object.id,\n    data.object.url_title,\n  );\n  if (data.object_type === 'answer' && data.object.question_id) {\n    itemUrl = pathFactory.answerLanding({\n      questionId: data.object.question_id,\n      slugTitle: data.object.url_title,\n      answerId: data.object.id,\n    });\n  }\n\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const keywords =\n    q\n      ?.replace(Pattern.search, '')\n      ?.split(' ')\n      ?.filter((v) => v !== '') || [];\n\n  return (\n    <ListGroupItem className=\"py-3 px-0 border-start-0 border-end-0 bg-transparent\">\n      <div className=\"mb-2 clearfix\">\n        <span\n          className=\"float-start me-2 badge text-bg-dark\"\n          style={{ marginTop: '2px' }}>\n          {data.object_type === 'question' ? 'Q' : 'A'}\n        </span>\n        <Link className=\"h5 mb-0 link-dark text-break\" to={itemUrl}>\n          <HighlightText text={data.object.title} keywords={keywords} />\n          {data.object.status === 'closed'\n            ? ` [${t('closed', { keyPrefix: 'question' })}]`\n            : null}\n        </Link>\n      </div>\n      <div className=\"d-flex flex-wrap align-items-center small text-secondary mb-2\">\n        <BaseUserCard data={data.object?.user_info} showAvatar={false} />\n\n        <span className=\"split-dot\" />\n        <FormatTime time={data.object?.created_at} className=\"me-3\" />\n\n        <Counts\n          className=\"my-2 my-sm-0\"\n          showViews={false}\n          isAccepted={data.object?.accepted}\n          showAnswers={data.object_type === 'question'}\n          showAccepted={data.object?.accepted && data.object_type === 'answer'}\n          data={{\n            votes: data.object?.vote_count,\n            answers: data.object?.answer_count,\n            views: 0,\n          }}\n        />\n      </div>\n\n      {data.object?.excerpt && (\n        <p className=\"small text-truncate-2 mb-2 last-p text-break\">\n          <HighlightText\n            text={escapeRemove(data.object.excerpt) || ''}\n            keywords={keywords}\n          />\n        </p>\n      )}\n\n      {data.object?.tags?.map((item) => {\n        return <Tag key={item.slug_name} className=\"me-1\" data={item} />;\n      })}\n    </ListGroupItem>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { useTranslation, Trans } from 'react-i18next';\n\nconst Index: FC = () => {\n  const { t } = useTranslation();\n  return (\n    <Card>\n      <Card.Header>{t('search.tips.title')}</Card.Header>\n      <Card.Body>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.tag\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.user\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.answer\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.score\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.question\" components={{ 1: <code /> }} />\n        </div>\n        <div>\n          <Trans i18nKey=\"search.tips.is_answer\" components={{ 1: <code /> }} />\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Row, Col, ListGroup } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport { usePageTags, useSkeletonControl } from '@/hooks';\nimport { useCaptchaPlugin } from '@/utils/pluginKit';\nimport { Pagination } from '@/components';\nimport { getSearchResult } from '@/services';\nimport type { SearchParams, SearchRes } from '@/common/interface';\n\nimport {\n  Head,\n  SearchHead,\n  SearchItem,\n  Tips,\n  Empty,\n  ListLoader,\n} from './components';\n\nconst Index = () => {\n  const { t } = useTranslation('translation');\n  const [searchParams] = useSearchParams();\n  const page = searchParams.get('page') || 1;\n  const q = searchParams.get('q') || '';\n  const order = searchParams.get('order') || 'relevance';\n  const [isLoading, setIsLoading] = useState(false);\n  const { isSkeletonShow } = useSkeletonControl(isLoading);\n  const [data, setData] = useState<SearchRes>({\n    count: 0,\n    list: [],\n    extra: null,\n  });\n  const { count = 0, list = [], extra = null } = data || {};\n\n  const searchCaptcha = useCaptchaPlugin('search');\n\n  const doSearch = () => {\n    setIsLoading(true);\n    const params: SearchParams = {\n      q,\n      order,\n      page: Number(page),\n      size: 20,\n    };\n\n    const captcha = searchCaptcha?.getCaptcha();\n    if (captcha?.verify) {\n      params.captcha_id = captcha.captcha_id;\n      params.captcha_code = captcha.captcha_code;\n    }\n\n    getSearchResult(params)\n      .then(async (resp) => {\n        await searchCaptcha?.close();\n        setData(resp);\n      })\n      .catch((err) => {\n        if (err.isError) {\n          searchCaptcha?.handleCaptchaError(err.list);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    if (!searchCaptcha) {\n      doSearch();\n      return;\n    }\n    searchCaptcha.check(() => {\n      doSearch();\n    });\n  }, [q, order, page]);\n\n  let pageTitle = t('search', { keyPrefix: 'page_title' });\n  if (q) {\n    pageTitle = `${t('posts_containing', { keyPrefix: 'page_title' })} '${q}'`;\n  }\n  usePageTags({\n    title: pageTitle,\n  });\n\n  return (\n    <Row className=\"pt-4 mb-5\">\n      <Col className=\"page-main flex-auto\">\n        <Head data={extra} />\n        <SearchHead sort={order} count={isLoading ? -1 : count} />\n        <ListGroup className=\"rounded-0 mb-5\">\n          {isSkeletonShow ? (\n            <ListLoader />\n          ) : (\n            list?.map((item) => {\n              return <SearchItem key={item.object.id} data={item} />;\n            })\n          )}\n        </ListGroup>\n\n        {!isLoading && !list?.length && <Empty />}\n\n        <div className=\"d-flex justify-content-center\">\n          <Pagination\n            currentPage={Number(page)}\n            pageSize={20}\n            totalSize={count}\n          />\n        </div>\n      </Col>\n      <Col className=\"page-right-side mt-4 mt-xl-0\">\n        <Tips />\n      </Col>\n    </Row>\n  );\n};\n\nexport default Index;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n    const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;"],"names":["Index","_jsx","className","children","_jsxs","Trans","i18nKey","memo","data","t","useTranslation","keyPrefix","searchParams","useSearchParams","q","get","options","match","Pattern","search","followed","setFollowed","useState","is_follower","PluginRender","type","PluginType","Search","slug_name","replace","length","_Fragment","map","item","excerpt","escapeRemove","Link","to","pathFactory","tagInfo","Button","variant","onClick","follow","tryNormalLogged","following","object_id","tag_id","is_cancel","then","res","is_followed","count","list","Array","fill","v","i","ListGroupItem","style","height","width","sortBtns","sort","QueryGroup","currentSort","sortKey","i18nKeyPrefix","_q$replace","_q$replace$split","_data$object","_data$object2","_data$object3","_data$object4","_data$object5","_data$object6","_data$object7","_data$object8","_data$object8$tags","object_type","itemUrl","questionLanding","object","id","url_title","question_id","answerLanding","questionId","slugTitle","answerId","keywords","split","filter","marginTop","HighlightText","text","title","status","BaseUserCard","user_info","showAvatar","FormatTime","time","created_at","Counts","showViews","isAccepted","accepted","showAnswers","showAccepted","votes","vote_count","answers","answer_count","views","tags","Tag","Card","Header","Body","components","page","order","isLoading","setIsLoading","isSkeletonShow","useSkeletonControl","setData","extra","searchCaptcha","useCaptchaPlugin","doSearch","params","Number","size","captcha","getCaptcha","verify","captcha_id","captcha_code","getSearchResult","async","close","resp","catch","err","isError","handleCaptchaError","finally","useEffect","check","pageTitle","usePageTags","Row","Col","Head","SearchHead","ListGroup","ListLoader","SearchItem","Empty","Pagination","currentPage","pageSize","totalSize","Tips","React","bsPrefix","as","Component","props","ref","decoratedBsPrefix","useBootstrapPrefix","breakpoints","useBootstrapBreakpoints","minBreakpoint","useBootstrapMinBreakpoint","sizePrefix","classes","forEach","brkPoint","propValue","cols","infix","push","classNames","displayName"],"sourceRoot":""}