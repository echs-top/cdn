"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3225,3326],{73225:(e,l,s)=>{s.r(l),s.d(l,{default:()=>_});var a=s(12162),r=s(59660),d=s.n(r),n=s(42700),i=s(66087),o=s(49450);function t(e,l,s){const a=(e-l)/(s-l)*100;return Math.round(1e3*a)/1e3}function c({min:e,now:l,max:s,label:a,visuallyHidden:r,striped:n,animated:i,className:c,style:v,variant:b,bsPrefix:u,..._},h){return(0,o.jsx)("div",{ref:h,..._,role:"progressbar",className:d()(c,`${u}-bar`,{[`bg-${b}`]:b,[`${u}-bar-animated`]:i,[`${u}-bar-striped`]:i||n}),style:{width:`${t(l,e,s)}%`,...v},"aria-valuenow":l,"aria-valuemin":e,"aria-valuemax":s,children:r?(0,o.jsx)("span",{className:"visually-hidden",children:a}):a})}const v=a.forwardRef((({isChild:e=!1,...l},s)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...l};if(r.bsPrefix=(0,n.oU)(r.bsPrefix,"progress"),e)return c(r,s);const{min:t,now:v,max:b,label:u,visuallyHidden:_,striped:h,animated:m,bsPrefix:p,variant:g,className:x,children:j,...y}=r;return(0,o.jsx)("div",{ref:s,...y,className:d()(x,p),children:j?(0,i.Tj)(j,(e=>(0,a.cloneElement)(e,{isChild:!0}))):c({min:t,now:v,max:b,label:u,visuallyHidden:_,striped:h,animated:m,bsPrefix:p,variant:g},s)})}));v.displayName="ProgressBar";const b=v,u=({step:e})=>(0,o.jsxs)("div",{className:"d-flex align-items-center small text-secondary",children:[(0,o.jsx)(b,{now:e/5*100,variant:"success",style:{width:"200px"},className:"me-2"}),(0,o.jsxs)("span",{children:[e,"/5"]})]}),_=(0,a.memo)(u)},63326:(e,l,s)=>{s.r(l),s.d(l,{default:()=>b});var a=s(14592),r=s(98128),d=s(8810),n=s(18666),i=s(98496),o=s(73225),t=s(49450);const c=[{value:"mysql",label:"MariaDB/MySQL"},{value:"sqlite3",label:"SQLite"},{value:"postgres",label:"PostgreSQL"}],v=[{value:"require"},{value:"verify-ca"},{value:"verify-full"}],b=({visible:e,data:l,changeCallback:s,nextCallback:b})=>{const{t:u}=(0,i.B)("translation",{keyPrefix:"install"});return e?(0,t.jsxs)(a.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{db_type:a,db_username:r,db_password:d,db_host:n,db_name:i,db_file:o}=l;return"sqlite3"!==a.value?(r.value||(e=!1,l.db_username={value:"",isInvalid:!0,errorMsg:u("db_username.msg")}),d.value||(e=!1,l.db_password={value:"",isInvalid:!0,errorMsg:u("db_password.msg")}),n.value||(e=!1,l.db_host={value:"",isInvalid:!0,errorMsg:u("db_host.msg")}),i.value||(e=!1,l.db_name={value:"",isInvalid:!0,errorMsg:u("db_name.msg")})):o.value||(e=!1,l.db_file={value:"",isInvalid:!0,errorMsg:u("db_file.msg")}),s({...l}),e})()&&b()},children:[(0,t.jsxs)(a.A.Group,{controlId:"database_engine",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_type.label")}),(0,t.jsx)(a.A.Select,{value:l.db_type.value,isInvalid:l.db_type.isInvalid,onChange:e=>{s({db_type:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:c.map((e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),"sqlite3"!==l.db_type.value?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.A.Group,{controlId:"username",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_username.label")}),(0,t.jsx)(a.A.Control,{required:!0,placeholder:u("db_username.placeholder"),value:l.db_username.value,isInvalid:l.db_username.isInvalid,onChange:e=>{s({db_username:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:l.db_username.errorMsg})]}),(0,t.jsxs)(a.A.Group,{controlId:"db_password",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_password.label")}),(0,t.jsx)(a.A.Control,{required:!0,value:l.db_password.value,isInvalid:l.db_password.isInvalid,onChange:e=>{s({db_password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:l.db_password.errorMsg})]}),"postgres"===l.db_type.value&&(0,t.jsxs)(a.A.Group,{controlId:"ssl_enabled",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("ssl_enabled.label")}),(0,t.jsx)(a.A.Check,{type:"switch",label:`${l.ssl_enabled.value?u("ssl_enabled_on.label"):u("ssl_enabled_off.label")}`,checked:l.ssl_enabled.value,onChange:e=>{s({ssl_enabled:{value:e.target.checked,isInvalid:!1,errorMsg:""},ssl_mode:{value:"require",isInvalid:!1,errorMsg:""},ssl_root_cert:{value:"",isInvalid:!1,errorMsg:""},ssl_cert:{value:"",isInvalid:!1,errorMsg:""},ssl_key:{value:"",isInvalid:!1,errorMsg:""}})}})]}),"postgres"===l.db_type.value&&l.ssl_enabled.value&&(0,t.jsxs)(a.A.Group,{controlId:"sslmodeOptionsDropdown",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("ssl_mode.label")}),(0,t.jsx)(a.A.Select,{value:l.ssl_mode.value,onChange:e=>{s({ssl_mode:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:v.map((e=>(0,t.jsx)("option",{value:e.value,children:e.value},e.value)))})]}),"postgres"===l.db_type.value&&l.ssl_enabled.value&&("verify-ca"===l.ssl_mode.value||"verify-full"===l.ssl_mode.value)&&(0,t.jsxs)(r.A,{className:"mb-3",children:[(0,t.jsxs)(a.A.Group,{as:d.A,controlId:"ssl_root_cert",children:[(0,t.jsx)(a.A.Control,{placeholder:u("ssl_root_cert.placeholder"),"aria-label":"ssl_root_cert","aria-describedby":"basic-addon1",isInvalid:l.ssl_root_cert.isInvalid,onChange:e=>{s({ssl_root_cert:{value:e.target.value,isInvalid:!1,errorMsg:""}})},required:!0}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:`${l.ssl_root_cert.errorMsg}`})]}),(0,t.jsxs)(a.A.Group,{as:d.A,controlId:"ssl_cert",children:[(0,t.jsx)(a.A.Control,{placeholder:u("ssl_cert.placeholder"),"aria-label":"ssl_cert","aria-describedby":"basic-addon1",isInvalid:l.ssl_cert.isInvalid,onChange:e=>{s({ssl_cert:{value:e.target.value,isInvalid:!1,errorMsg:""}})},required:!0}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:`${l.ssl_cert.errorMsg}`})]}),(0,t.jsxs)(a.A.Group,{as:d.A,controlId:"ssl_key",children:[(0,t.jsx)(a.A.Control,{placeholder:u("ssl_key.placeholder"),"aria-label":"ssl_key","aria-describedby":"basic-addon1",isInvalid:l.ssl_key.isInvalid,onChange:e=>{s({ssl_key:{value:e.target.value,isInvalid:!1,errorMsg:""}})},required:!0}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:`${l.ssl_key.errorMsg}`})]})]}),(0,t.jsxs)(a.A.Group,{controlId:"db_host",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_host.label")}),(0,t.jsx)(a.A.Control,{required:!0,placeholder:u("db_host.placeholder"),value:l.db_host.value,isInvalid:l.db_host.isInvalid,onChange:e=>{s({db_host:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:l.db_host.errorMsg})]}),(0,t.jsxs)(a.A.Group,{controlId:"name",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_name.label")}),(0,t.jsx)(a.A.Control,{required:!0,placeholder:u("db_name.placeholder"),value:l.db_name.value,isInvalid:l.db_name.isInvalid,onChange:e=>{s({db_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:l.db_name.errorMsg})]})]}):(0,t.jsxs)(a.A.Group,{controlId:"file",className:"mb-3",children:[(0,t.jsx)(a.A.Label,{children:u("db_file.label")}),(0,t.jsx)(a.A.Control,{required:!0,placeholder:u("db_file.placeholder"),value:l.db_file.value,isInvalid:l.db_file.isInvalid,onChange:e=>{s({db_file:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(a.A.Control.Feedback,{type:"invalid",children:l.db_file.errorMsg})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)(o.default,{step:2}),(0,t.jsx)(n.A,{type:"submit",children:u("next")})]})]}):null}},98128:(e,l,s)=>{s.d(l,{A:()=>t});var a=s(59660),r=s.n(a),d=s(12162),n=s(42700),i=s(49450);const o=d.forwardRef((({bsPrefix:e,className:l,as:s="div",...a},d)=>{const o=(0,n.oU)(e,"row"),t=(0,n.gy)(),c=(0,n.Jm)(),v=`${o}-cols`,b=[];return t.forEach((e=>{const l=a[e];let s;delete a[e],null!=l&&"object"===typeof l?({cols:s}=l):s=l;const r=e!==c?`-${e}`:"";null!=s&&b.push(`${v}${r}-${s}`)})),(0,i.jsx)(s,{ref:d,...a,className:r()(l,o,...b)})}));o.displayName="Row";const t=o}}]);
//# sourceMappingURL=3326.3d4765bf.chunk.js.map