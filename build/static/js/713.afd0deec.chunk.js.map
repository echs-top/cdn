{"version":3,"file":"static/js/713.afd0deec.chunk.js","mappings":"gSAoCA,MAAMA,EAAmBA,EAAGC,WAC1B,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAAEC,UAAW,YAClDC,IAAgBC,EAAAA,EAAAA,MACjBC,EAAIF,EAAaG,IAAI,KACrBC,EAAW,OAADF,QAAC,IAADA,OAAC,EAADA,EAAGG,MAAMC,EAAAA,EAAQC,SAC1BC,EAAUC,IAAeC,EAAAA,EAAAA,UAAa,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMe,aAc/C,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yDAAwDC,SAAA,EACrEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,OAAMC,SAAEjB,EAAE,YAExBkB,EAAAA,EAAAA,KAACC,EAAAA,GAAY,CAACC,KAAMC,EAAAA,GAAWC,OAAQC,UAAU,qBAEnDR,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sBAAqBC,SAAEjB,EAAE,cACvC,OAADK,QAAC,IAADA,OAAC,EAADA,EAAGmB,QAAQf,EAAAA,EAAQC,OAAQ,KAC5BQ,EAAAA,EAAAA,KAAA,UACQ,OAAPX,QAAO,IAAPA,OAAO,EAAPA,EAASkB,UACRV,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAT,SAAA,EACEF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAEjB,EAAE,WAAW,OACvC,OAAPO,QAAO,IAAPA,OAAO,EAAPA,EAASoB,KAAKC,IACNb,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAkBW,EAAK,MAAZA,YAKrB,OAAJ7B,QAAI,IAAJA,OAAI,EAAJA,EAAMwB,aACLR,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAT,SAAA,CACGlB,EAAK8B,UACJd,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYC,SAAA,EACtBa,EAAAA,EAAAA,IAAa/B,EAAK8B,UACnBd,EAAAA,EAAAA,MAACgB,EAAAA,GAAI,CAACf,UAAU,OAAOgB,GAAIC,EAAAA,EAAYC,QAAQnC,EAAKwB,WAAWN,SAAA,CAAC,IAC5DjB,EAAE,QAAQ,WAKlBkB,EAAAA,EAAAA,KAACiB,EAAAA,EAAM,CAACC,QAAQ,kBAAkBC,QA3C3BC,MACRC,EAAAA,EAAAA,kBAAgB,KAGrBC,EAAAA,EAAAA,IAAU,CACRC,UAAe,OAAJ1C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,OACjBC,UAAWhC,IACViC,MAAMC,IACPjC,EAAYiC,EAAIC,YAAY,GAC5B,EAkCsD7B,SACpCjB,EAAXW,EAAa,YAAiB,iBAIjC,EAIV,GAAeoC,EAAAA,EAAAA,MAAKjD,E","sources":["pages/Search/components/Head/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useState } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { following } from '@/services';\nimport { tryNormalLogged } from '@/utils/guard';\nimport { escapeRemove } from '@/utils';\nimport { pathFactory } from '@/router/pathFactory';\nimport { PluginRender } from '@/components';\nimport Pattern from '@/common/pattern';\nimport { PluginType } from '@/utils/pluginKit';\n\ninterface Props {\n  data;\n}\n\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'search' });\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const options = q?.match(Pattern.search);\n  const [followed, setFollowed] = useState(data?.is_follower);\n\n  const follow = () => {\n    if (!tryNormalLogged(true)) {\n      return;\n    }\n    following({\n      object_id: data?.tag_id,\n      is_cancel: followed,\n    }).then((res) => {\n      setFollowed(res.is_followed);\n    });\n  };\n\n  return (\n    <div className=\"mb-5\">\n      <div className=\"mb-3 d-flex align-items-center justify-content-between\">\n        <h3 className=\"mb-0\">{t('title')}</h3>\n\n        <PluginRender type={PluginType.Search} slug_name=\"serarch_info\" />\n      </div>\n      <p>\n        <span className=\"text-secondary me-1\">{t('keywords')}</span>\n        {q?.replace(Pattern.search, '')}\n        <br />\n        {options?.length && (\n          <>\n            <span className=\"text-secondary\">{t('options')} </span>\n            {options?.map((item) => {\n              return <code key={item}>{item} </code>;\n            })}\n          </>\n        )}\n      </p>\n      {data?.slug_name && (\n        <>\n          {data.excerpt && (\n            <p className=\"text-break\">\n              {escapeRemove(data.excerpt)}\n              <Link className=\"ms-1\" to={pathFactory.tagInfo(data.slug_name)}>\n                [{t('more')}]\n              </Link>\n            </p>\n          )}\n\n          <Button variant=\"outline-primary\" onClick={follow}>\n            {followed ? t('following') : t('follow')}\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Index);\n"],"names":["Index","data","t","useTranslation","keyPrefix","searchParams","useSearchParams","q","get","options","match","Pattern","search","followed","setFollowed","useState","is_follower","_jsxs","className","children","_jsx","PluginRender","type","PluginType","Search","slug_name","replace","length","_Fragment","map","item","excerpt","escapeRemove","Link","to","pathFactory","tagInfo","Button","variant","onClick","follow","tryNormalLogged","following","object_id","tag_id","is_cancel","then","res","is_followed","memo"],"sourceRoot":""}