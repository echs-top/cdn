{"version":3,"file":"static/js/2181.a3e4d270.chunk.js","mappings":"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","sources":["pages/Admin/Dashboard/components/HealthStatus/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC } from 'react';\nimport { Card, Row, Col } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport type * as Type from '@/common/interface';\nimport { siteInfoStore } from '@/stores';\n\nconst { gt, gte } = require('semver');\n\ninterface IProps {\n  data: Type.AdminDashboard['info'];\n}\n\nconst HealthStatus: FC<IProps> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'admin.dashboard' });\n  const { version, remote_version } = data.version_info || {};\n  const { siteInfo } = siteInfoStore();\n  let isLatest = false;\n  let hasNewerVersion = false;\n  const downloadUrl = `https://answer.apache.org/download?from_version=${version}`;\n  if (version && remote_version) {\n    isLatest = gte(version, remote_version);\n    hasNewerVersion = gt(remote_version, version);\n  }\n  return (\n    <Card className=\"mb-4\">\n      <Card.Body>\n        <h6 className=\"mb-3\">{t('site_health')}</h6>\n        <Row>\n          <Col xs={6} className=\"mb-1 d-flex align-items-center\">\n            <span className=\"text-secondary me-1\">{t('version')}</span>\n            <strong>{version}</strong>\n            {isLatest && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-success\"\n                target=\"_blank\"\n                href={downloadUrl}\n                rel=\"noreferrer\">\n                {t('latest')}\n              </a>\n            )}\n            {!isLatest && hasNewerVersion && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-warning\"\n                target=\"_blank\"\n                href={downloadUrl}\n                rel=\"noreferrer\">\n                {t('update_to')} {remote_version}\n              </a>\n            )}\n            {!isLatest && !remote_version && siteInfo.check_update && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-danger\"\n                target=\"_blank\"\n                href={downloadUrl}\n                rel=\"noreferrer\">\n                {t('check_failed')}\n              </a>\n            )}\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('run_mode')}</span>\n            <strong>{data.login_required ? t('private') : t('public')}</strong>\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('upload_folder')}</span>\n            <strong>\n              {data.uploading_files ? t('writable') : t('not_writable')}\n            </strong>\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('https')}</span>\n            <strong>{data.https ? t('yes') : t('no')}</strong>\n          </Col>\n          <Col xs={6}>\n            <span className=\"text-secondary me-1\">{t('timezone')}</span>\n            <strong>\n              {(data.time_zone.split('/')?.[1] ?? data.time_zone).replaceAll(\n                '_',\n                ' ',\n              )}\n            </strong>\n          </Col>\n          <Col xs={6}>\n            <span className=\"text-secondary me-1\">{t('smtp')}</span>\n            {data.smtp !== 'not_configured' ? (\n              <strong>{t(data.smtp)}</strong>\n            ) : (\n              <Link to=\"/admin/smtp\" className=\"ms-2\">\n                {t('config')}\n              </Link>\n            )}\n          </Col>\n        </Row>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default HealthStatus;\n"],"names":["gt","gte","require","HealthStatus","data","_data$time_zone$split","_data$time_zone$split2","t","useTranslation","keyPrefix","version","remote_version","version_info","siteInfo","siteInfoStore","isLatest","hasNewerVersion","downloadUrl","_jsx","Card","className","children","_jsxs","Body","Row","Col","xs","target","href","rel","check_update","login_required","uploading_files","https","time_zone","split","replaceAll","smtp","Link","to"],"sourceRoot":""}