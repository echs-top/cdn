"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[178,4922],{24922:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var n=s(69805),i=s(98496),a=s(85940),r=s(10428),l=s(45558),d=s(59304),c=s(49450);const o=({itemData:e,curFilter:t,refreshList:s})=>{const{t:o}=(0,i.B)("translation",{keyPrefix:"delete"}),x=t=>{"delete"===t&&r.aF.confirm({title:o("title"),content:2===e.accepted?o("answer_accepted"):o("other"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:o("delete",{keyPrefix:"btns"}),onConfirm:()=>{(0,l.Xt)(e.id,"deleted").then((()=>{d.ZW.getState().show({msg:o("answer_deleted",{keyPrefix:"messages"}),variant:"success"}),s()}))}}),"undelete"===t&&r.aF.confirm({title:o("undelete_title"),content:o("undelete_desc"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:o("undelete",{keyPrefix:"btns"}),onConfirm:()=>{(0,l.Xt)(e.id,"available").then((()=>{d.ZW.getState().show({msg:o("answer_cancel_deleted",{keyPrefix:"messages"}),variant:"success"}),s()}))}})};return"pending"===t?(0,c.jsx)(a.N_,{to:`/review?type=queued_post&objectId=${e.id}`,className:"btn btn-link p-0",title:o("review",{keyPrefix:"header.nav"}),children:(0,c.jsx)(r.In,{name:"three-dots-vertical"})}):(0,c.jsxs)(n.A,{children:[(0,c.jsx)(n.A.Toggle,{variant:"link",className:"no-toggle p-0",children:(0,c.jsx)(r.In,{name:"three-dots-vertical",title:o("action",{keyPrefix:"admin.answers"})})}),(0,c.jsx)(n.A.Menu,{align:"end",children:"deleted"===t?(0,c.jsx)(n.A.Item,{onClick:()=>x("undelete"),children:o("undelete",{keyPrefix:"btns"})}):(0,c.jsx)(n.A.Item,{onClick:()=>x("delete"),children:o("delete",{keyPrefix:"btns"})})})]})}},90178:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(63962),i=s(18666),a=s(14592),r=s(27396),l=s(85940),d=s(98496),c=s(59660),o=s.n(c),x=s(10428),m=s(91374),h=s(45558),u=s(93090),f=s(91408),g=s(59304),j=s(24922),p=s(49450);const v=["normal","pending","deleted"],y=()=>{var e;const[t,s]=(0,l.ok)(),c=t.get("status")||v[0],y=Number(t.get("page"))||1,b=t.get("query")||"",k=t.get("questionId")||"",{t:w}=(0,d.B)("translation",{keyPrefix:"admin.answers"}),{data:_,isLoading:N,mutate:P}=(0,h.en)({page_size:20,page:y,status:c,query:b,question_id:k}),$=(null===_||void 0===_?void 0:_.count)||0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:"mb-4",children:w("page_title")}),(0,p.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center",children:[(0,p.jsxs)(n.A,{direction:"horizontal",gap:3,className:"mb-3",children:[(0,p.jsx)(x.gu,{data:v,currentSort:c,sortKey:"status",i18nKeyPrefix:"btns"}),"deleted"===c&&$>0?(0,p.jsx)(i.A,{variant:"outline-danger",size:"sm",onClick:()=>{x.aF.confirm({title:w("title",{keyPrefix:"delete_permanently"}),content:w("content",{keyPrefix:"delete_permanently"}),cancelBtnVariant:"link",confirmText:w("delete",{keyPrefix:"btns"}),confirmBtnVariant:"danger",onConfirm:()=>{(0,h.jM)("answers").then((()=>{g.ZW.getState().show({msg:w("answers_deleted",{keyPrefix:"messages"}),variant:"success"}),P()}))}})},children:w("deleted_permanently",{keyPrefix:"btns"})}):null]}),(0,p.jsx)(a.A.Control,{value:b,onChange:e=>{t.set("query",e.target.value),t.delete("page"),s(t)},size:"sm",type:"search",placeholder:w("filter.placeholder"),style:{width:"12.25rem"},className:"mb-3"})]}),(0,p.jsxs)(r.A,{responsive:"md",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"min-w-15",children:w("post")}),(0,p.jsx)("th",{style:{width:"11%"},children:w("votes")}),(0,p.jsx)("th",{style:{width:"14%"},children:w("created")}),(0,p.jsx)("th",{style:{width:"11%"},children:w("status")}),(0,p.jsx)("th",{style:{width:"11%"},className:"text-end",children:w("action")})]})}),(0,p.jsx)("tbody",{className:"align-middle",children:null===_||void 0===_||null===(e=_.list)||void 0===e?void 0:e.map((e=>{var t,s;return(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:[(0,p.jsx)(l.N_,{to:f.w.answerLanding({questionId:e.question_id,slugTitle:e.question_info.url_title,answerId:e.id}),target:"_blank",className:"text-break text-wrap",rel:"noreferrer",children:e.question_info.title}),2===e.accepted&&(0,p.jsx)(x.In,{name:"check-circle-fill",className:"ms-2 text-success"}),(0,p.jsx)("div",{className:"text-truncate-2 small max-w-30",children:(0,u.iL)(e.description)})]}),(0,p.jsx)("td",{children:e.vote_count}),(0,p.jsx)("td",{children:(0,p.jsxs)(n.A,{children:[(0,p.jsx)(x.fZ,{avatarSize:"20",data:e.user_info,nameMaxWidth:"200px"}),(0,p.jsx)(x.H0,{className:"small text-secondary",time:e.create_time})]})}),(0,p.jsx)("td",{children:(0,p.jsx)("span",{className:o()("badge",null===(t=m.__[c])||void 0===t?void 0:t.variant),children:w(null===(s=m.__[c])||void 0===s?void 0:s.name,{keyPrefix:"btns"})})}),(0,p.jsx)("td",{className:"text-end",children:(0,p.jsx)(j.default,{itemData:{id:e.id,accepted:e.accepted},curFilter:c,refreshList:P})})]},e.id)}))})]}),Number($)<=0&&!N&&(0,p.jsx)(x.Sv,{}),(0,p.jsx)("div",{className:"mt-4 mb-2 d-flex justify-content-center",children:(0,p.jsx)(x.dK,{currentPage:y,totalSize:$,pageSize:20})})]})}},27396:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(59660),i=s.n(n),a=s(12162),r=s(42700),l=s(49450);const d=a.forwardRef((({bsPrefix:e,className:t,striped:s,bordered:n,borderless:a,hover:d,size:c,variant:o,responsive:x,...m},h)=>{const u=(0,r.oU)(e,"table"),f=i()(t,u,o&&`${u}-${o}`,c&&`${u}-${c}`,s&&`${u}-${"string"===typeof s?`striped-${s}`:"striped"}`,n&&`${u}-bordered`,a&&`${u}-borderless`,d&&`${u}-hover`),g=(0,l.jsx)("table",{...m,className:f,ref:h});if(x){let e=`${u}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,l.jsx)("div",{className:e,children:g})}return g}))}}]);
//# sourceMappingURL=178.216627ea.chunk.js.map