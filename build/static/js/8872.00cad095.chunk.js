"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[8872],{48872:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var s=l(12162),r=l(14592),i=l(18666),t=l(85940),n=l(98496),o=l(28446),d=l(32563),c=l(45558),v=l(44047),u=l(93090),m=l(67629);var p=l(49450);const g=({callback:e})=>{const{t:a}=(0,n.B)("translation",{keyPrefix:"login"}),[l,g]=(0,s.useState)({name:{value:"",isInvalid:!1,errorMsg:""},e_mail:{value:"",isInvalid:!1,errorMsg:""},pass:{value:"",isInvalid:!1,errorMsg:""}}),h=(0,v.A)((e=>e.update)),y=(0,d.T5)("email"),_=/^[\w.-\s]{2,30}$/,x=e=>{g({...l,...e})},b=(()=>{const{data:e}=(0,m.N)(),{data:a}=(0,m.f)();return(0,s.useCallback)(((l,s)=>{l.stopPropagation();const r="tos"===s?null===e||void 0===e?void 0:e.terms_of_service_original_text:null===a||void 0===a?void 0:a.privacy_policy_original_text;let i;try{r&&(i=new URL(r))}catch(t){}i&&(l.preventDefault(),window.open(i.toString()))}),[e,a])})(),I=a=>{a&&a.preventDefault();const s={name:l.name.value,e_mail:l.e_mail.value,pass:l.pass.value},r=null===y||void 0===y?void 0:y.getCaptcha();null!==r&&void 0!==r&&r.verify&&(s.captcha_code=r.captcha_code,s.captcha_id=r.captcha_id),(0,c.kz)(s).then((async a=>{await(null===y||void 0===y?void 0:y.close()),h(a),e()})).catch((e=>{if(e.isError){null===y||void 0===y||y.handleCaptchaError(e.list);const a=(0,u.NC)(e,l);g({...a});const s=document.getElementById(e.list[0].error_field);(0,u.qt)(s)}}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.A,{noValidate:!0,onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{name:s,e_mail:r,pass:i}=l;if(s.value?s.value.length<2||s.value.length>30?(e=!1,l.name={value:s.value,isInvalid:!0,errorMsg:a("name.msg.range")}):_.test(s.value)||(e=!1,l.name={value:s.value,isInvalid:!0,errorMsg:a("name.msg.character")}):(e=!1,l.name={value:"",isInvalid:!0,errorMsg:a("name.msg.empty")}),r.value||(e=!1,l.e_mail={value:"",isInvalid:!0,errorMsg:a("email.msg.empty")}),i.value||(e=!1,l.pass={value:"",isInvalid:!0,errorMsg:a("password.msg.empty")}),g({...l}),!e){const e=Object.keys(l).filter((e=>l[e].isInvalid)),a=document.getElementById(e[0]);(0,u.qt)(a)}return e})()&&(y?y.check((()=>{I()})):I())},autoComplete:"off",children:[(0,p.jsxs)(r.A.Group,{controlId:"name",className:"mb-3",children:[(0,p.jsx)(r.A.Label,{children:a("name.label")}),(0,p.jsx)(r.A.Control,{autoComplete:"off",required:!0,type:"text",isInvalid:l.name.isInvalid,value:l.name.value,onChange:e=>x({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,p.jsx)(r.A.Control.Feedback,{type:"invalid",children:l.name.errorMsg})]}),(0,p.jsxs)(r.A.Group,{controlId:"email",className:"mb-3",children:[(0,p.jsx)(r.A.Label,{children:a("email.label")}),(0,p.jsx)(r.A.Control,{autoComplete:"off",required:!0,type:"e_mail",isInvalid:l.e_mail.isInvalid,value:l.e_mail.value,onChange:e=>x({e_mail:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,p.jsx)(r.A.Control.Feedback,{type:"invalid",children:l.e_mail.errorMsg})]}),(0,p.jsxs)(r.A.Group,{controlId:"password",className:"mb-3",children:[(0,p.jsx)(r.A.Label,{children:a("password.label")}),(0,p.jsx)(r.A.Control,{autoComplete:"off",required:!0,type:"password",isInvalid:l.pass.isInvalid,value:l.pass.value,onChange:e=>x({pass:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,p.jsx)(r.A.Control.Feedback,{type:"invalid",children:l.pass.errorMsg})]}),(0,p.jsx)("div",{className:"d-grid",children:(0,p.jsx)(i.A,{variant:"primary",type:"submit",children:a("signup",{keyPrefix:"btns"})})})]}),(0,p.jsx)("div",{className:"text-center small mt-3",children:(0,p.jsxs)(o.x,{i18nKey:"login.agreements",ns:"translation",children:["By registering, you agree to the",(0,p.jsx)(t.N_,{to:"/privacy",onClick:e=>{b(e,"privacy")},target:"_blank",children:"privacy policy"}),"and",(0,p.jsx)(t.N_,{to:"/tos",onClick:e=>{b(e,"tos")},target:"_blank",children:"terms of service"}),"."]})})]})},h=s.memo(g)}}]);
//# sourceMappingURL=8872.00cad095.chunk.js.map