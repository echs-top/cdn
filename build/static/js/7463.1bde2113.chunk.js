"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[7463,8058],{97463:(e,s,i)=>{i.r(s),i.d(s,{default:()=>f});var t=i(12162),a=i(84873),n=i(68442),l=i(63962),r=i(18666),d=i(98496),o=i(85940),c=i(59660),m=i.n(c),u=i(45558),x=i(10428),v=i(93090),p=i(91374),j=i(98058),h=i(49450);const f=({refreshCount:e})=>{var s,i,c;const[f,b]=(0,o.ok)(),_=f.get("objectId")||"",{t:g}=(0,d.B)("translation",{keyPrefix:"page_review"}),y=(0,t.useRef)(null),[N,k]=(0,t.useState)(!1),[w,A]=(0,t.useState)(!1),[P,I]=(0,t.useState)(1),[S,T]=(0,t.useState)(),C=null===S||void 0===S?void 0:S.list[0],L=(e,s)=>{(0,u.IX)(e,s).then((s=>{((e,s)=>{const{count:i,list:t=[]}=e;if(!t.length&&i&&1!==P)return I(s=1),void L(s,"");s!==P&&I(s),T(e),t.length||k(!0),setTimeout((()=>{(0,v.Mv)()}),150)})(s,e)}))};(0,t.useEffect)((()=>{y.current&&setTimeout((()=>{(0,x._A)(y.current,{copySuccessText:g("copied",{keyPrefix:"messages"}),copyText:g("copy",{keyPrefix:"messages"})})}),70)}),[y.current]),(0,t.useEffect)((()=>{L(P,_)}),[]);const q=s=>{C&&(A(!0),(0,u.j6)({status:s,review_id:null===C||void 0===C?void 0:C.review_id}).then((()=>{e(),L(P,""),_&&(f.delete("objectId"),b(f))})).finally((()=>{A(!1)})))},{object_type:H,author_user_info:$,object_status:z,reason:E}=C||{object_type:"",author_user_info:null,reason:null,object_status:0},{itemLink:F,itemId:R,itemTimePrefix:U}=(0,j.default)(C);return N?null:(0,h.jsxs)(a.A,{children:[(0,h.jsx)(a.A.Header,{children:g("user"!==H?"queued_post":"queued_post_user")}),(0,h.jsxs)(a.A.Body,{className:"p-0",children:[(0,h.jsxs)(n.A,{variant:"info",className:"border-0 rounded-0 mb-0",children:[(0,h.jsxs)(l.A,{direction:"horizontal",gap:1,className:"align-items-center mb-2",children:[(0,h.jsxs)("div",{className:"small d-flex align-items-center",children:[(0,h.jsx)(x.In,{type:"bi",name:"plugin",size:"24px",className:"me-2 lh-1"}),(0,h.jsx)("span",{children:null===C||void 0===C?void 0:C.submitter_display_name})]}),(null===C||void 0===C?void 0:C.submit_at)&&(0,h.jsx)(x.H0,{time:C.submit_at,className:"small text-secondary",preFix:g("proposed")})]}),(0,h.jsx)(l.A,{className:"align-items-start",children:(0,h.jsx)("p",{className:"mb-0",children:E})})]}),(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsxs)("small",{className:"d-block text-secondary mb-4",children:[(0,h.jsxs)("span",{children:[g(H,{keyPrefix:"btns"})," "]}),(0,h.jsxs)(o.N_,{to:F,target:"_blank",className:"link-secondary",children:["#",R]})]}),"question"===H&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{className:"mb-3",children:null===C||void 0===C?void 0:C.title}),(0,h.jsx)("div",{className:"mb-4",children:null===C||void 0===C||null===(s=C.tags)||void 0===s?void 0:s.map((e=>(0,h.jsx)(x.vw,{className:"me-1",data:e},e.slug_name)))})]}),(0,h.jsx)("div",{className:"small font-monospace",children:(0,h.jsx)(x.EQ,{children:(0,h.jsx)("article",{ref:y,className:"fmt text-break text-wrap",dangerouslySetInnerHTML:{__html:null===C||void 0===C?void 0:C.parsed_text}})})}),(0,h.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between mt-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:m()("badge",null===(i=p.__[z])||void 0===i?void 0:i.variant),children:g(null===(c=p.__[z])||void 0===c?void 0:c.name,{keyPrefix:"btns"})}),2===(null===C||void 0===C?void 0:C.object_show_status)&&(0,h.jsx)("span",{className:m()("ms-1 badge",p.__.unlisted.variant),children:g(p.__.unlisted.name,{keyPrefix:"btns"})})]}),(0,h.jsxs)("div",{className:"d-flex align-items-center small",children:[(0,h.jsx)(x.fZ,{data:$,avatarSize:"24",avatarClass:"me-2"}),(0,h.jsx)(x.H0,{time:Number(null===C||void 0===C?void 0:C.created_at),className:"text-secondary ms-1 flex-shrink-0",preFix:g(U,{keyPrefix:"question_detail"})})]})]})]})]}),(0,h.jsxs)(a.A.Footer,{className:"p-3",children:[(0,h.jsx)("p",{children:g("user"!==H?"approve_post_tip":"approve_user_tip")}),(0,h.jsxs)(l.A,{direction:"horizontal",gap:2,children:[(0,h.jsx)(r.A,{variant:"outline-primary",disabled:w,onClick:()=>q("approve"),children:g("approve",{keyPrefix:"btns"})}),(0,h.jsx)(r.A,{variant:"outline-primary",disabled:w,onClick:()=>q("reject"),children:g("reject",{keyPrefix:"btns"})}),(0,h.jsx)(r.A,{variant:"outline-primary",disabled:w,onClick:()=>{L(P+1,""),_&&(f.delete("objectId"),b(f))},children:g("skip",{keyPrefix:"btns"})})]})]})]})}},98058:(e,s,i)=>{i.r(s),i.d(s,{default:()=>a});var t=i(91408);const a=e=>{if(null===e||void 0===e||!e.object_id)return{itemLink:"",itemId:"",itemTimePrefix:""};const{object_type:s="",object_id:i="",question_id:a="",answer_id:n="",comment_id:l="",url_title:r=""}=e;let d="",o="",c="";return"question"===s?(d=t.w.questionLanding(String(i),r),o=String(a),c="asked"):"answer"===s?(d=t.w.answerLanding({questionId:a,slugTitle:r,answerId:String(i)}),o=String(i),c="answered"):"comment"===s&&(d=a&&n?`${t.w.answerLanding({questionId:a,slugTitle:r,answerId:n})}?commentId=${l}`:`${t.w.questionLanding(String(a),r)}?commentId=${l}`,o=String(l),c="commented"),{itemLink:d,itemId:o,itemTimePrefix:c}}},68442:(e,s,i)=>{i.d(s,{A:()=>_});var t=i(59660),a=i.n(t),n=i(12162),l=i(18525),r=i(1921),d=i(42700),o=i(46024),c=i(49450);const m=(0,o.A)("h4");m.displayName="DivStyledAsH4";const u=n.forwardRef((({className:e,bsPrefix:s,as:i=m,...t},n)=>(s=(0,d.oU)(s,"alert-heading"),(0,c.jsx)(i,{ref:n,className:a()(e,s),...t}))));u.displayName="AlertHeading";const x=u;var v=i(41055);const p=n.forwardRef((({className:e,bsPrefix:s,as:i=v.A,...t},n)=>(s=(0,d.oU)(s,"alert-link"),(0,c.jsx)(i,{ref:n,className:a()(e,s),...t}))));p.displayName="AlertLink";const j=p;var h=i(70200),f=i(4576);const b=n.forwardRef(((e,s)=>{const{bsPrefix:i,show:t=!0,closeLabel:n="Close alert",closeVariant:o,className:m,children:u,variant:x="primary",onClose:v,dismissible:p,transition:j=h.A,...b}=(0,l.Zw)(e,{show:"onClose"}),_=(0,d.oU)(i,"alert"),g=(0,r.A)((e=>{v&&v(!1,e)})),y=!0===j?h.A:j,N=(0,c.jsxs)("div",{role:"alert",...y?void 0:b,ref:s,className:a()(m,_,x&&`${_}-${x}`,p&&`${_}-dismissible`),children:[p&&(0,c.jsx)(f.A,{onClick:g,"aria-label":n,variant:o}),u]});return y?(0,c.jsx)(y,{unmountOnExit:!0,...b,ref:void 0,in:t,children:N}):t?N:null}));b.displayName="Alert";const _=Object.assign(b,{Link:j,Heading:x})}}]);
//# sourceMappingURL=7463.1bde2113.chunk.js.map