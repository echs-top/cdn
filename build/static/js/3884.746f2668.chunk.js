"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3485,3884,5560],{73485:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var a=t(12162),i=t(84873),l=t(98496),o=t(85940),s=t(69153),r=t(59304),d=t(93090),c=t(91374),m=t(65560),u=t(49450);let g;const v=()=>{var e;const{t:n}=(0,l.B)("translation",{keyPrefix:"user_center"}),t=(0,o.Zp)(),v=(0,r.ym)().agent,h=(null===v||void 0===v||null===(e=v.agent_info)||void 0===e?void 0:e.name)||"",[f,x]=(0,a.useState)(""),p=e=>{e&&(0,m.checkLoginResult)(e).then((n=>{n.is_login?d.ah.handleLoginWithToken(n.token,t):(clearTimeout(g),g=setTimeout((()=>{p(e)}),2e3))}))};var _,k;return(0,a.useEffect)((()=>{h&&(0,m.getLoginConf)().then((e=>{var n;(0,d.x4)()===c.dH.WeCom?d.Jg.navigate(null===e||void 0===e?void 0:e.redirect_url,{handler:"replace"}):((n=null===e||void 0===e?void 0:e.redirect_url)&&s.toDataURL(n,{width:240,margin:0},((e,n)=>{e||x(n)})),p(null===e||void 0===e?void 0:e.key))}))}),[h]),(0,a.useEffect)((()=>()=>{clearTimeout(g)}),[]),(0,d.x4)()!==c.dH.WeCom?(0,u.jsx)(i.A,{className:"text-center",children:(0,u.jsxs)(i.A.Body,{children:[(0,u.jsxs)(i.A.Title,{as:"h3",className:"mb-3",children:[null===v||void 0===v||null===(_=v.agent_info)||void 0===_?void 0:_.display_name," ",n("login")]}),f?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("img",{className:"w-100",style:{maxWidth:"240px"},src:f,alt:h}),(0,u.jsx)("div",{className:"text-secondary mt-3",children:n("qrcode_login_tip",{agentName:null===v||void 0===v||null===(k=v.agent_info)||void 0===k?void 0:k.display_name})})]}):null]})}):null},h=(0,a.memo)(v)},65560:(e,n,t)=>{t.r(n),t.d(n,{checkLoginResult:()=>l,getLoginConf:()=>i});var a=t(9558);const i=()=>a.A.get("/answer/api/v1/wecom/login/url"),l=e=>{const n=`/answer/api/v1/wecom/login/check?key=${e}`;return a.A.get(n)}},63884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var a=t(12162),i=t(5423),l=t(8810),o=t(85940),s=t(98496),r=t(59304),d=t(91374),c=t(28093),m=t(73485),u=t(49450);const g=()=>{var e;const{t:n}=(0,s.B)("translation"),[t]=(0,o.ok)(),{agent:a}=(0,r.ym)();let g=(null===a||void 0===a||null===(e=a.agent_info)||void 0===e?void 0:e.name)||"";return t.get("agent_name")&&(g=t.get("agent_name")||""),(0,c.M4)({title:n("login",{keyPrefix:"page_title"})}),(0,u.jsx)(i.A,{style:{paddingTop:"5rem",paddingBottom:"5rem"},children:(0,u.jsx)(l.A,{md:4,className:"mx-auto",children:d.dH.WeCom.toLowerCase()===g.toLowerCase()?(0,u.jsx)(m.default,{}):null})})},v=(0,a.memo)(g)},5423:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(59660),i=t.n(a),l=t(12162),o=t(42700),s=t(49450);const r=l.forwardRef((({bsPrefix:e,fluid:n=!1,as:t="div",className:a,...l},r)=>{const d=(0,o.oU)(e,"container"),c="string"===typeof n?`-${n}`:"-fluid";return(0,s.jsx)(t,{ref:r,...l,className:i()(a,n?`${d}${c}`:d)})}));r.displayName="Container";const d=r}}]);
//# sourceMappingURL=3884.746f2668.chunk.js.map