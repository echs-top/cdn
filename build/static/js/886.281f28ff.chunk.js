"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[886],{40886:(e,i,l)=>{l.r(i),l.d(i,{default:()=>_});var s=l(12162),t=l(85940),d=l(98496),o=l(5522),n=l(13463),a=l(18666),c=l(10428),m=l(32563),r=l(93090),u=l(45558),v=l(91408),x=l(49450);const p=({data:e,initPage:i,hasAnswer:l,isLogged:p})=>{var _,h,f,j;const{t:w}=(0,d.B)("translation",{keyPrefix:"question_detail"}),[b]=(0,t.ok)(),[k,g]=(0,s.useState)(null===e||void 0===e?void 0:e.is_followed),N=(0,s.useRef)(null);(0,m.e9)(N.current);return(0,s.useEffect)((()=>{e&&g(null===e||void 0===e?void 0:e.is_followed)}),[e]),(0,s.useEffect)((()=>{N.current&&(0,c._A)(N.current,{copySuccessText:w("copied",{keyPrefix:"messages"}),copyText:w("copy",{keyPrefix:"messages"})})}),[N.current]),null!==e&&void 0!==e&&e.id?(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"h3 mb-3 text-wrap text-break",children:(0,x.jsxs)(t.N_,{className:"link-dark",reloadDocument:!0,to:v.w.questionLanding(e.id,e.url_title),children:[e.title,2===e.status?` [${w("closed",{keyPrefix:"question"})}]`:""]})}),(0,x.jsxs)("div",{className:"d-flex flex-wrap align-items-center small mb-3 text-secondary",children:[2===(null===e||void 0===e?void 0:e.pin)&&(0,x.jsxs)("div",{className:"me-3",children:[(0,x.jsx)(c.In,{name:"pin-fill",className:"me-1",title:w("pinned",{keyPrefix:"btns"})}),(0,x.jsx)("span",{children:w("pinned",{keyPrefix:"btns"})})]}),(0,x.jsx)(c.H0,{time:e.create_time,preFix:w("Asked"),className:"me-3"}),(0,x.jsx)(c.H0,{time:e.update_time,preFix:w("update"),className:"me-3"}),(null===e||void 0===e?void 0:e.view_count)>0&&(0,x.jsxs)("div",{className:"me-3",children:[w("Views")," ",(0,r.B4)(e.view_count)]}),(0,x.jsx)(o.A,{placement:"bottom",overlay:(0,x.jsx)(n.A,{id:"followTooltip",children:w("follow_tip")}),children:(0,x.jsx)(a.A,{variant:"link",size:"sm",className:"p-0 btn-no-border",onClick:i=>(i=>{i.preventDefault(),r.ah.tryNormalLogged(!0)&&(0,u.CQ)({object_id:null===e||void 0===e?void 0:e.id,is_cancel:k}).then((e=>{g(e.is_followed)}))})(i),children:w(k?"Following":"Follow")})})]}),(0,x.jsx)("div",{className:"m-n1",children:null===e||void 0===e||null===(_=e.tags)||void 0===_?void 0:_.map((e=>(0,x.jsx)(c.vw,{className:"m-1",data:e},e.slug_name)))}),(0,x.jsx)(c.EQ,{children:(0,x.jsx)("article",{ref:N,className:"fmt text-break text-wrap mt-4",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.html}})}),(0,x.jsx)(c.En,{className:"mt-4",source:"question",data:{id:null===e||void 0===e?void 0:e.id,isHate:"vote_down"===(null===e||void 0===e?void 0:e.vote_status),isLike:"vote_up"===(null===e||void 0===e?void 0:e.vote_status),votesCount:null===e||void 0===e?void 0:e.vote_count,collected:null===e||void 0===e?void 0:e.collected,collectCount:null===e||void 0===e?void 0:e.collection_count,username:null===(h=e.user_info)||void 0===h?void 0:h.username}}),(0,x.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,x.jsx)("div",{className:"mb-3 mb-md-0 me-4 flex-grow-1",children:(0,x.jsx)(c.lR,{qid:null===e||void 0===e?void 0:e.id,type:"question",memberActions:null===e||void 0===e?void 0:e.member_actions,title:e.title,hasAnswer:l,isAccepted:Boolean(null===e||void 0===e?void 0:e.accepted_answer_id),callback:i})}),(0,x.jsx)("div",{style:{minWidth:"196px"},className:"mb-3 me-4 mb-md-0",children:e.update_user_info&&(null===(f=e.update_user_info)||void 0===f?void 0:f.username)!==(null===(j=e.user_info)||void 0===j?void 0:j.username)?(0,x.jsx)(c.qu,{data:null===e||void 0===e?void 0:e.update_user_info,time:e.edit_time,preFix:w("edit"),isLogged:p,timelinePath:`/posts/${e.id}/timeline`}):p?(0,x.jsx)(t.N_,{to:`/posts/${e.id}/timeline`,children:(0,x.jsx)(c.H0,{time:e.edit_time,preFix:w("edit"),className:"link-secondary small"})}):(0,x.jsx)(c.H0,{time:e.edit_time,preFix:w("edit"),className:"text-secondary small"})}),(0,x.jsx)("div",{style:{minWidth:"196px"},children:(0,x.jsx)(c.qu,{data:null===e||void 0===e?void 0:e.user_info,time:e.create_time,preFix:w("asked"),isLogged:p,timelinePath:`/posts/${e.id}/timeline`})})]}),(0,x.jsx)(c.Mw,{objectId:null===e||void 0===e?void 0:e.id,mode:"question",commentId:b.get("commentId")})]}):null},_=(0,s.memo)(p)}}]);
//# sourceMappingURL=886.281f28ff.chunk.js.map