"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[7639],{37639:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var t=n(69805),i=n(98496),a=n(10428),r=n(28093),o=n(45558),c=n(59304),l=n(49450);const d=({showActionPassword:e,showActionStatus:s,showActionRole:n,currentUser:d,refreshUsers:u,showDeleteModal:h,userData:m,showSuspenseModal:x})=>{const{t:k}=(0,i.B)("translation",{keyPrefix:"admin.users"}),w=(0,r.dj)(),f=(0,r.Qt)({callback:()=>{w.onShow({msg:k("change_user_role",{keyPrefix:"messages"}),variant:"success"}),null===u||void 0===u||u()}}),v=(0,r.Ye)({onConfirm:e=>new Promise(((s,n)=>{(0,o.ej)(e).then((()=>{w.onShow({msg:k("update_password",{keyPrefix:"toast"}),variant:"success"}),s(!0)})).catch((e=>{n(e)}))}))}),_=(0,r.Io)({onConfirm:e=>new Promise(((s,n)=>{(0,o.eg)(e).then((()=>{w.onShow({msg:k("edit_success",{keyPrefix:"admin.edit_profile_modal"}),variant:"success"}),s(!0),null===u||void 0===u||u()})).catch((e=>{n(e)}))}))},m),p=(0,r.vx)(),g=e=>{(0,o.e8)({user_id:m.user_id,status:e}).then((()=>{c.ZW.getState().show({msg:k(`user_${e}`,{keyPrefix:"messages"}),variant:"success"}),null===u||void 0===u||u()}))},j=e=>{const{user_id:s,role_id:n,username:t}=m;t!==d.username?("role"===e&&f.onShow({id:s,role_id:n}),"password"===e&&v.onShow(s),"profile"===e&&_.onShow(s),"activation"===e&&p.onShow(s),"deactivate"===e&&a.aF.confirm({title:k("deactivate_user.title"),content:k("deactivate_user.content"),cancelBtnVariant:"link",confirmBtnVariant:"danger",cancelText:k("cancel",{keyPrefix:"btns"}),confirmText:k("deactivate",{keyPrefix:"btns"}),onConfirm:()=>{g("inactive")}}),"suspend"===e&&x({show:!0,userId:m.user_id}),"active"!==e&&"unsuspend"!==e||g("normal"),"delete"===e&&h({show:!0,userId:m.user_id})):w.onShow({msg:k("forbidden_operate_self",{keyPrefix:"toast"}),variant:"warning"})};return(0,l.jsx)("td",{className:"text-end",children:(0,l.jsxs)(t.A,{children:[(0,l.jsx)(t.A.Toggle,{variant:"link",className:"no-toggle p-0",children:(0,l.jsx)(a.In,{name:"three-dots-vertical",title:k("action")})}),(0,l.jsxs)(t.A.Menu,{align:"end",children:[e?(0,l.jsx)(t.A.Item,{onClick:()=>j("password"),children:k("set_new_password")}):null,(0,l.jsx)(t.A.Item,{onClick:()=>j("profile"),children:k("edit_profile")}),n?(0,l.jsx)(t.A.Item,{onClick:()=>j("role"),children:k("change_role")}):null,"inactive"===m.status?(0,l.jsx)(t.A.Item,{onClick:()=>j("activation"),children:k("btn_name",{keyPrefix:"inactive"})}):null,s&&"deleted"!==m.status?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.A.Divider,{}),"inactive"===m.status&&(0,l.jsx)(t.A.Item,{onClick:()=>j("active"),children:k("active",{keyPrefix:"btns"})}),"normal"===m.status&&(0,l.jsx)(t.A.Item,{onClick:()=>j("deactivate"),children:k("deactivate",{keyPrefix:"btns"})}),"normal"===m.status&&(0,l.jsx)(t.A.Item,{onClick:()=>j("suspend"),children:k("suspend",{keyPrefix:"btns"})}),"suspended"===m.status&&(0,l.jsx)(t.A.Item,{onClick:()=>j("unsuspend"),children:k("unsuspend",{keyPrefix:"btns"})}),(0,l.jsx)(t.A.Item,{onClick:()=>j("delete"),children:k("delete",{keyPrefix:"btns"})})]}):null]})]})})}}}]);
//# sourceMappingURL=7639.b92a63cd.chunk.js.map