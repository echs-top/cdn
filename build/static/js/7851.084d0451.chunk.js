"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[7851],{7851:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var s=i(12162),n=i(18666),a=i(98128),c=i(8810),o=i(85940),d=i(98496),l=i(10428),r=i(91374),_=i(45558),v=i(49450);const y=({data:e,isAdmin:t,objectInfo:i,revisionList:y})=>{const{t:j}=(0,d.B)("translation",{keyPrefix:"timeline"}),[p,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)({new_revision:{},old_revision:{}});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{children:[(0,v.jsx)(l.H0,{time:e.created_at}),(0,v.jsx)("br",{}),e.cancelled_at>0&&(0,v.jsx)(l.H0,{time:e.cancelled_at})]}),(0,v.jsxs)("td",{className:"text-nowrap",children:[("rollback"===e.activity_type||"edited"===e.activity_type||"asked"===e.activity_type||"created"===e.activity_type||"answer"===i.object_type&&"answered"===e.activity_type)&&(0,v.jsxs)(n.A,{onClick:()=>(async e=>{if(!p){const t=null===y||void 0===y?void 0:y.find((t=>t.revision_id===e));let i;if((null===y||void 0===y?void 0:y.length)>0&&t){const e=y.indexOf(t)||0;i=e===y.length-1?0:y[e+1].revision_id}const s=await(0,_.Dh)({new_revision_id:e,old_revision_id:i});h(s)}x(!p)})(e.revision_id),variant:"link",className:"text-body p-0 btn-no-border",children:[(0,v.jsx)(l.In,{name:"caret-right-fill",className:"me-1 "+(p?"rotate-90-deg":"rotate-0-deg")}),j(e.activity_type)]}),"accept"===e.activity_type&&(0,v.jsx)(o.N_,{to:`/questions/${i.question_id}/${null===e||void 0===e?void 0:e.object_id}`,children:j(e.activity_type)}),"question"===i.object_type&&"answered"===e.activity_type&&(0,v.jsx)(o.N_,{to:`/questions/${i.question_id}/${e.object_id}`,children:j(e.activity_type)}),"commented"===e.activity_type&&(0,v.jsx)(o.N_,{to:"answer"===i.object_type?`/questions/${i.question_id}/${i.answer_id}?commentId=${e.object_id}`:`/questions/${i.question_id}?commentId=${e.object_id}`,children:j(e.activity_type)}),r.Hn.includes(e.activity_type)&&(0,v.jsx)("div",{children:j(e.activity_type)}),e.cancelled&&(0,v.jsx)("div",{className:"text-danger",children:j("cancelled")})]}),(0,v.jsx)("td",{children:"downvote"!==e.activity_type||t?(0,v.jsx)(l.fZ,{className:"fs-normal",data:null===e||void 0===e?void 0:e.user_info,showAvatar:!1,showReputation:!1}):(0,v.jsx)("div",{children:j("n_or_a")})}),(0,v.jsx)("td",{children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.comment}})})]}),(0,v.jsx)("tr",{className:p?"":"d-none",children:(0,v.jsx)("td",{colSpan:5,className:"p-0 py-5",children:(0,v.jsx)(a.A,{className:"justify-content-center",children:(0,v.jsx)(c.A,{xxl:8,children:(0,v.jsx)(l.V$,{objectType:i.object_type,newData:null===u||void 0===u?void 0:u.new_revision,oldData:null===u||void 0===u?void 0:u.old_revision})})})})})]})}},98128:(e,t,i)=>{i.d(t,{A:()=>l});var s=i(59660),n=i.n(s),a=i(12162),c=i(42700),o=i(49450);const d=a.forwardRef((({bsPrefix:e,className:t,as:i="div",...s},a)=>{const d=(0,c.oU)(e,"row"),l=(0,c.gy)(),r=(0,c.Jm)(),_=`${d}-cols`,v=[];return l.forEach((e=>{const t=s[e];let i;delete s[e],null!=t&&"object"===typeof t?({cols:i}=t):i=t;const n=e!==r?`-${e}`:"";null!=i&&v.push(`${_}${n}-${i}`)})),(0,o.jsx)(i,{ref:a,...s,className:n()(t,d,...v)})}));d.displayName="Row";const l=d}}]);
//# sourceMappingURL=7851.084d0451.chunk.js.map