{"version":3,"file":"static/js/9487.72449ea9.chunk.js","mappings":"sRA+BA,MAAMA,EAAQA,KACZ,MAAM,KAAEC,EAAI,OAAEC,IAAWC,EAAAA,EAAAA,MACnBC,GAAQC,EAAAA,EAAAA,OAER,EAAEC,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAC1CC,UAAW,wBAGLF,EAAGG,IAAOF,EAAAA,EAAAA,GAAe,cAAe,CAC9CC,UAAW,UA6Bb,OAAS,OAAJP,QAAI,IAAJA,GAAAA,EAAMS,QAETC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SAAEP,EAAE,YAC/BQ,EAAAA,EAAAA,KAAA,SAAOF,UAAU,iBAAgBC,SAAEP,EAAE,YAErCQ,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAC3B,OAAJZ,QAAI,IAAJA,OAAI,EAAJA,EAAMc,KAAKC,IAERF,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAACM,EAAAA,EAAM,CACLC,QAASF,EAAKG,QAAU,iBAAmB,oBAC3CC,KAAMJ,EAAKK,KACXC,QAAUC,GAvCHC,EAACD,EAAGP,KAClBA,EAAKG,SAOVI,EAAEE,iBACFC,EAAAA,GAAMC,QAAQ,CACZC,MAAOtB,EAAE,eACTuB,QAASvB,EAAE,iBACXwB,kBAAmB,SACnBC,YAAazB,EAAE,qBACf0B,UAAWA,MACTC,EAAAA,EAAAA,IAAgB,CAAEC,YAAalB,EAAKkB,cAAeC,MAAK,KACtDjC,IACAE,EAAMgC,OAAO,CACXC,IAAK/B,EAAE,kBACPY,QAAS,WACT,GACF,KAnBJoB,EAAAA,EAAQC,IACNC,EAAAA,GACAC,OAAOC,SAASC,SAASC,QAAQC,EAAAA,GAAiB,IAmBpD,EAgB0BrB,CAAaD,EAAGP,GAAMH,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QACEgC,wBAAyB,CACvBC,QAAQC,EAAAA,EAAAA,IAAYhC,EAAKiC,KAAM,mBAGnCnC,EAAAA,EAAAA,KAAA,QAAAD,SACGJ,EAAGO,EAAKG,QAAU,SAAW,UAAW,CACvC+B,UAAWlC,EAAKmC,aAZdnC,EAAKmC,aATC,IA6BlB,EAIV,GAAeC,EAAAA,EAAAA,MAAKpD,E","sources":["pages/Users/Settings/Account/components/MyLogins/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { Modal } from '@/components';\nimport { useOauthConnectorInfoByUser, userOauthUnbind } from '@/services';\nimport { useToast } from '@/hooks';\nimport { base64ToSvg } from '@/utils';\nimport Storage from '@/utils/storage';\nimport { REDIRECT_PATH_STORAGE_KEY } from '@/common/constants';\nimport { REACT_BASE_PATH } from '@/router/alias';\n\nconst Index = () => {\n  const { data, mutate } = useOauthConnectorInfoByUser();\n  const toast = useToast();\n\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'settings.my_logins',\n  });\n\n  const { t: t2 } = useTranslation('translation', {\n    keyPrefix: 'oauth',\n  });\n\n  const deleteLogins = (e, item) => {\n    if (!item.binding) {\n      Storage.set(\n        REDIRECT_PATH_STORAGE_KEY,\n        window.location.pathname.replace(REACT_BASE_PATH, ''),\n      );\n      return;\n    }\n    e.preventDefault();\n    Modal.confirm({\n      title: t('modal_title'),\n      content: t('modal_content'),\n      confirmBtnVariant: 'danger',\n      confirmText: t('modal_confirm_btn'),\n      onConfirm: () => {\n        userOauthUnbind({ external_id: item.external_id }).then(() => {\n          mutate();\n          toast.onShow({\n            msg: t('remove_success'),\n            variant: 'success',\n          });\n        });\n      },\n    });\n  };\n\n  if (!data?.length) return null;\n  return (\n    <div className=\"mt-5\">\n      <div className=\"form-label\">{t('title')}</div>\n      <small className=\"form-text mt-0\">{t('label')}</small>\n\n      <div className=\"d-grid gap-2 mt-3\">\n        {data?.map((item) => {\n          return (\n            <div key={item.name}>\n              <Button\n                variant={item.binding ? 'outline-danger' : 'outline-secondary'}\n                href={item.link}\n                onClick={(e) => deleteLogins(e, item)}>\n                <span\n                  dangerouslySetInnerHTML={{\n                    __html: base64ToSvg(item.icon, 'btnSvg me-2'),\n                  }}\n                />\n                <span>\n                  {t2(item.binding ? 'remove' : 'connect', {\n                    auth_name: item.name,\n                  })}\n                </span>\n              </Button>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Index);\n"],"names":["Index","data","mutate","useOauthConnectorInfoByUser","toast","useToast","t","useTranslation","keyPrefix","t2","length","_jsxs","className","children","_jsx","map","item","Button","variant","binding","href","link","onClick","e","deleteLogins","preventDefault","Modal","confirm","title","content","confirmBtnVariant","confirmText","onConfirm","userOauthUnbind","external_id","then","onShow","msg","Storage","set","REDIRECT_PATH_STORAGE_KEY","window","location","pathname","replace","REACT_BASE_PATH","dangerouslySetInnerHTML","__html","base64ToSvg","icon","auth_name","name","memo"],"sourceRoot":""}